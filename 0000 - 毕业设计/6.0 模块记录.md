C8T6æœ€å°ç³»ç»Ÿæ¿ æœªå¼€å‘ç¥¨ 14.5
LED 

ä¸»è¦åŠŸèƒ½
- `å…‰æ•ä¼ æ„Ÿå™¨` æ£€æµ‹å¤©é»‘ `LED`å¤œé—´å‘å…‰ æç¤ºè·¯äºº æ— éœ€è”ç½‘

- `MPU-6050`è·Œå€’æ£€æµ‹é¢„æµ‹ å‘å¸ƒæ¶ˆæ¯ æé†’ç­‰çº§1 æˆ‘åœ¨å‰ç«¯æ˜¾ç¤ºè­¦å‘Šä¸€æ˜Ÿï¼ˆæç¤ºå¯èƒ½å‘ç”Ÿè·Œå€’ï¼‰
- `ATGM336H` GPSå®šä½ å‘å¸ƒæ¶ˆæ¯ ç»çº¬åº¦ æˆ‘åœ¨å‰ç«¯æ˜¾ç¤ºåœ°å›¾ç‚¹ä½ï¼ˆå›¾åƒæ ‡ç‚¹ï¼‰
- ä¸»åŠ¨æ±‚æ•‘`æŒ‰é’®`SOS  æŒ‰ä¸‹   å‘å¸ƒæ¶ˆæ¯ æé†’ç­‰çº§2å’Œç›®å‰çš„ç»çº¬åº¦ï¼Œç»çº¬åº¦è¿™ä¸ªå¯ä»¥çœ ä¸æ–¹ä¾¿çš„è¯ æˆ‘å¯ä»¥ä»ç½‘é¡µæŸ¥çœ‹ä¹Ÿè¡Œ ä¸” `simå¡æ¨¡å—`æ‹¨ç”µè¯æˆ–è€…å‘çŸ­ä¿¡ æˆ‘åœ¨å‰ç«¯æ˜¾ç¤ºè­¦å‘ŠäºŒæ˜Ÿï¼ˆæç¤ºç”¨æˆ·ä¸»åŠ¨æ±‚æ•‘ï¼‰
- è¶…å£°æ³¢æµ‹é‡éšœç¢ç‰©`HC-SR04` æ£€æµ‹è·ç¦»å‰æ–¹çš„éšœç¢ç‰© å°äº50cmé˜ˆå€¼ å‘å¸ƒæ¶ˆæ¯ å‰ç«¯æˆ‘æ˜¾ç¤º ä¸”æœ¬åœ°éœ‡åŠ¨æ¨¡å—1éœ‡åŠ¨
- `æ°´ä½ä¼ æ„Ÿå™¨` æ£€æµ‹æ‹æ–åº•éƒ¨çš„æ°´ä½ å¤§äº1cmé˜ˆå€¼ å‘å¸ƒæ¶ˆæ¯ å‰ç«¯æˆ‘æ˜¾ç¤º ä¸”æœ¬åœ°éœ‡åŠ¨æ¨¡å—2éœ‡åŠ¨

# éœ‡åŠ¨ä¼ æ„Ÿå™¨ ä¸¤ä¸ª
èœ‚é¸£å™¨ 
æ·˜å®é“¾æ¥ï¼š[ã€ä¼˜ä¿¡ç”µå­ã€‘éœ‡åŠ¨é©¬è¾¾ç”µæœºæ¨¡å— ç›´æµç”µæœºæ‰‹æœºéœ‡åŠ¨å™¨ æŒ¯åŠ¨é©¬è¾¾æŠ¥è­¦-æ·˜å®ç½‘ (taobao.com)](https://item.taobao.com/item.htm?id=584941055869&price=3.8&sourceType=item&sourceType=item&suid=8c78f1ae-ee56-4c37-a95c-64cd3a0e6b5f&shareUniqueId=21019090281&ut_sk=1.YaV48WG3xLkDACjC6cdD9B0Y_21646297_1681896637116.Copy.1&un=56d835173df514b90f8768acc41474bb&share_crt_v=1&un_site=0&spm=a2159r.13376460.0.0&sp_abtk=gray_1_code_simpleAndroid2&tbSocialPopKey=shareItem&sp_tk=U0RwUGRsQ0h4bjY%3D&cpp=1&shareurl=true&short_name=h.UHfpwIY&bxsign=scdDXQb31gSF-wluMVLQ3FSnZMOx-6_cRww8pybRWwuDBJEQsoXU3fPwR32VWa0A9vQMlcjd-4NuQuq-7dObJVmDtTiJEJAB4Vx3uGI7klZlp7uU0SZm6Q9hvW5Z0X09NJd&tk=SDpPdlCHxn6&app=chrome)
![](201903040009images.aasts/image-20230419173513842.png)


ä»£ç é€»è¾‘

```c
{
    pinMode(ledPin, OUTPUT);  
}

  
void loop()
 
{
    double water1;
    if (water1 < 10.00 ) {
        digitalWrite(ledPin, HIGH);   // å¼•è„šé«˜ç”µå¹³ï¼Œå¼€å§‹éœ‡åŠ¨
     }
```


# æŒ‰é’®
æŒ‰ä¸‹å»æ¥é€š  æ¾å¼€ä¸¤ä¸ªå¼•è„šæ–­å¼€

ä¸€èˆ¬ä¸€ä¸ªå¼•è„šæ¥å…¥ä¸€ä¸ªPAXå£ï¼Œå¦å¤–ä¸€ä¸ªæ¥å…¥GND ï¼Œ
![](201903040009images.aasts/image-20230405184724696.png)


## æŒ‰é’®è§¦å‘äº‹ä»¶

[arduinoå¼€å‘ESP8266å­¦ä¹ ç¬”è®°äºŒ----æŒ‰é”®æ§åˆ¶LEDç¯ - æè´§äºº - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/--Destroyer--/p/13280703.html)

[08-ESP8266æŒ‰é’®å¤„ç†_esp8266æŒ‰é”®_ç›æ± è™¾çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/dangerqsq/article/details/129250692)

[å››è„šæŒ‰é”®å¼€å…³_å››è„šæŒ‰é”®å¼€å…³å¼•è„šå›¾_å››è„šæŒ‰é”®å¼€å…³æ¥çº¿å›¾ - å·¥ä¸šå®‰å…¨ - ç”µå­å‘çƒ§å‹ç½‘ (elecfans.com)](https://www.elecfans.com/kongzhijishu/gongyeanquan/536831.html)



# è¶…å£°æ³¢ D1 D2 / D4 D5 /D3 D4 ã€D1 D2ã€‘
## ç›¸å…³æ•™ç¨‹

## å¼•è„šå®‰æ’ 
ä¸€å…±å››ä¸ª + - D1 D2 / D4 D5
// è¶…å£°æ³¢ å››ä¸ªå¼•è„š D2 D1 GND 3V3
// define ultrasonic signal receiver pin  ECHO to D2  GPIO4
int ECHOPin = D2;  
// define ultrasonic signal transmitter pin  TRIG to D1  GPIO5
int TRIGPin = D1;  


```
D4 D5
[ESP8266çš„ä¼ æ„Ÿå™¨ä½¿ç”¨åˆé›† - cyqsd's blog](https://www.cyqsd.cn/8416.html)
```




# å…‰æ•  4é’ˆ D2 A0 è‡ªå¸¦ç¯å…‰ ã€D2 A0ã€‘
å…‰ç…§å¼ºåº¦ä¼ æ„Ÿå™¨BH1750
æ·˜å®é“¾æ¥ï¼š[å…‰æ•ç”µé˜»ä¼ æ„Ÿå™¨æ¨¡å—äº®åº¦å…‰çº¿å…‰ç”µå¼€å…³æ£€æµ‹ä¼ æ„Ÿå™¨é€æœé‚¦çº¿ 3 4é’ˆåˆ¶-tmall.comå¤©çŒ«](https://detail.tmall.com/item.htm?app=chrome&bxsign=scdgNJYbgSXXe0_RC3Xi6NR339p6rn4S370rcj2zbT3abFptkRyyMniUyBplJgjkQezpVtd6LK8G2BazRycJai2L-pQRO_SwNA78ht3gXjJARcXGbNUAkP9cZECsmeCNEh3&cpp=1&id=41236263649&price=3.2&shareUniqueId=20835965169&share_crt_v=1&shareurl=true&short_name=h.UHKCeAB&sourceType=item,item&sp_abtk=gray_1_code_simpleAndroid2&sp_tk=UzBLVmRrQW02cUM=&spm=a2159r.13376460.0.0&suid=8452047c-d599-4985-acb0-2235ecb6628a&tbSocialPopKey=shareItem&tk=S0KVdkAm6qC&un=56d835173df514b90f8768acc41474bb&un_site=0&ut_sk=1.YaV48WG3xLkDACjC6cdD9B0Y_21646297_1680877527736.Copy.1)
ç½‘ç›˜èµ„æ–™ï¼šhttps://pan.baidu.com/s/1KwXHlWY45XUce_csbUt0-gÂ æå–ç ï¼šxc75
![](201903040009images.aasts/image-20230407225243185.png)


## ç›¸å…³æ•™ç¨‹
[(8æ¡æ¶ˆæ¯) ç”¨esp8266nodemcu+å…‰ç…§ä¼ æ„Ÿå™¨å®ç°å®¤å†…äº®åº¦å˜æš—æ—¶esp8266è‡ªå¸¦ledç¯äº® ï¼ˆèº«è¾¹æ²¡æœ‰å…¶ä»–çš„ledç¯ï¼‰_esp8266æµ‹å…‰ç…§ä¼ æ„Ÿå™¨_è½¯ç³–å°å“¥å“¥å‘€çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/m0_57289318/article/details/119281372)

## å¼•è„šå®‰æ’ 
ä¸€å…±å››ä¸ªå¼•è„š + - D0 A0  é¢å¤–éœ€è¦ä¸¤ä¸ªå¼•è„š D2 A0
//å°†å…‰æ„ŸDOå£æ¥åˆ°D2
//å…‰æ„Ÿæ¨¡æ‹Ÿå£æ¥esp8266AOå£

æˆ‘ä»¬çš„å…‰ç…§ä¼ æ„Ÿå™¨æœ‰å››ä¸ªå¼•è„šï¼š vccï¼ˆç”µæºï¼‰ï¼Œgndï¼ˆæ¥åœ°ï¼‰ï¼ŒAOï¼ˆå…‰ç…§å¼ºåº¦æ¨¡æ‹Ÿé‡ï¼‰ï¼ŒDOï¼ˆæ•°å­—é‡ï¼‰ã€‚

vccå’Œgndåˆ†åˆ«æ¥åœ¨esp8266çš„ 3.3vå’ŒGndä¸Š  
DOå£æ¥åœ¨ ESP8266çš„D2å£ä¸Š  
AOå£æ¥åœ¨esp8266çš„AOå£ä¸Š


```C

/*
 * æˆ‘ä»¬çš„å…‰ç…§ä¼ æ„Ÿå™¨æœ‰å››ä¸ªå¼•è„šï¼š vccï¼ˆç”µæºï¼‰ï¼Œgndï¼ˆæ¥åœ°ï¼‰ï¼ŒAOï¼ˆå…‰ç…§å¼ºåº¦æ¨¡æ‹Ÿé‡ï¼‰ï¼ŒDOï¼ˆæ•°å­—é‡ï¼‰ã€‚
 * vccå’Œgndåˆ†åˆ«æ¥åœ¨esp8266çš„ 3.3vå’ŒGndä¸Š
 * DOå£æ¥åœ¨ ESP8266çš„D2å£ä¸Š  #è¿™ä¸ªå…‰æ•çš„D0è¾“å‡ºå£æˆ‘ä¸ç”¨ ä¸‰ä¸ªå£å°±å¤Ÿäº† æˆ‘ç”¨æ¿å­ä¸Šçš„ç‚¹ç¯
 * AOå£æ¥åœ¨ ESP8266çš„AOå£ä¸Š
*/

int ledPinLight = 14;  //å…‰ç…§è¿‡ä½ ç¯å…‰ç‚¹äº®æé†’è·¯äºº D5
int lightIntensity;//å­˜å‚¨å…‰ç…§å¼ºåº¦0~99

void setup() {               
  Serial.begin(115200);   //å®šä¹‰æ³¢ç‰¹ç‡ 
  pinMode(ledPinLight,OUTPUT);

      
}


void loop() {
    
    Serial.println("--------End - Water - detect----------");
    Serial.print("å…‰ç…§å¼ºåº¦ï¼š "); 
    lightIntensity = shine();
    Serial.println(lightIntensity);  //ä¸²å£ç›‘è§†å™¨æ˜¾ç¤ºå…‰ç…§å¼ºåº¦
    Serial.print("\n");  //å›è½¦
    if(lightIntensity < 30){
      digitalWrite(ledPinLight,HIGH);//å½“å…‰ç…§å¼ºåº¦å°äº30ï¼Œç‚¹äº®LED D5å¼•è„š
    }
    else{
      digitalWrite(ledPinLight,LOW);
    }
    Serial.println("--------End - Water - detect----------");
    delay(1000); //1sè¾“å‡ºä¸€æ¬¡å…‰ç…§å¼ºåº¦
}

//å…‰ç…§å¼ºåº¦æ˜ å°„å‡½æ•°
int shine()
{
  int i=analogRead(A0);//å…‰æ„Ÿæ¨¡æ‹Ÿå£æ¥esp8266AOå£
  i=1023-i;
  i=i/10.23-1;   //å°†å…‰ç…§å¼ºåº¦è®¾ç½®ä¸º0-99
  return i;
}
```





# æ°´ä½

## ç›¸å…³æ•™ç¨‹
[(8æ¡æ¶ˆæ¯) å¸¸ç”¨ä¼ æ„Ÿå™¨è®²è§£å››--æ°´ä½ä¼ æ„Ÿå™¨(water sensor)_ç¿¼è¾¾å£é¦™ç³–çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_47567401/article/details/116221046)

## å¼•è„šå®‰æ’ D4 / D5
ä¸€å…±ä¸‰ä¸ªå¼•è„š+ - S   é¢å¤–åªè¦ä¸€ä¸ªå¼•è„š
é¢å¤–å ç”¨ä¸€ä¸ªå¼•è„š å¯ä»¥D5ï¼ˆGPIO14ï¼‰ ã€ å¯ä»¥D4ï¼ˆGPIO2ï¼‰


![](201903040009images.aasts/image-20230407222640178.png)


## ä»£ç 


```

double waterHigh;
int ledPin = 14;  //D5

void setup()

{
    Serial.begin(115200);
    pinMode(ledPin, OUTPUT);  
}

  
void loop()
 
{
    double water1;
    water1 = (long)analogRead(A0);
    waterHigh = (water1 / 670) * 4;
    if (waterHigh < 10.00 ) {
        digitalWrite(ledPin, HIGH);   // å¼•è„š14é«˜ç”µå¹³ï¼Œç‚¹äº®LED
     }
     else{
         digitalWrite(ledPin, LOW);   // å¼•è„š14é«˜ç”µå¹³ï¼Œç†„ç­LED
     }
    Serial.print("the depth is:");
    Serial.print(waterHigh);
    Serial.println("cm");
    delay(1000);
 
}
```


```
ä¿®æ”¹å¥½çš„ æ²¡æœ‰å‘å¸ƒåŠŸèƒ½çš„ å®Œæ•´å‡½æ•°
//ç”¨äºå‘é€æ°´ä½ä¼ æ„Ÿå™¨æ£€æµ‹åˆ°çš„æ•°æ®å¹¶åœ¨æ°´ä½æµ‹è·è¿‡æ·±æ—¶æé†’
void pushWater(){
    double water1;
    water1 = (long)analogRead(A0);
    waterHigh = (water1 / 670) * 4;
    Serial.println("--------Start - Water - publish----------");
    if (waterHigh > 0.01 ) {
        Serial.println("æ°´ä½è­¦å‘Š");
        digitalWrite(ledPinWater, HIGH);   //D4
     }
     else{
         digitalWrite(ledPinWater, LOW);  
         Serial.println("æ°´ä½è­¦å‘Šè§£é™¤");
     }
    Serial.print("the depth is:");Serial.print(waterHigh);Serial.println("cm");
//    char text[20]; 
//    sprintf(text, "%lf", utlDistance);//doubleç±»å‹çš„å ä½ç¬¦lf
//    client.publish(topic,text);
    Serial.println("--------End - Water - publish----------");
}
```








# å‘é€é«˜ç­‰çº§çš„æé†’ - #å¾…åŠ
ç•¥ï¼šSIMå¡ æŒ‰ä¸‹å‘é€çŸ­ä¿¡

GSMå‘é€åœ°å€çš„çŸ­ä¿¡![](file:///C:\Users\å¾å…ˆæ£®\AppData\Roaming\Tencent\TIM\Temp\%W@GJ$ACOF(TYDYECOKVDYB.png)https://nerdytechy.com/using-sim800l-gsm-module-with-esp8266-guide/

SMSâ™¥ï¼š[å¦‚ä½•è½»æ¾å®ç°ä½¿ç”¨ESP8266æ¨¡å—å‘é€çŸ­ä¿¡ï¼ˆSMSï¼‰ï¼Ÿ - Arduinoä¸“åŒº - ä¸€æ¿ç½‘ç”µå­æŠ€æœ¯è®ºå› (yiboard.com)](https://www.yiboard.com/thread-727-1-1.html)

---

å‘é‚®ä»¶ï¼š â™¥ â™¥
[Arduino+ESP8266å‘é€é‚®ä»¶ï¼Œåœ¨åŸåŸºç¡€ä¸Šå°æ”¹ï¼Œå¯ç›´æ¥åœ¨é¡¹ç›®ä¸­å¼•ç”¨ï¼_esp8266å‘é‚®ä»¶_Geekæ˜Ÿè¾°çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/jsjjchm281900/article/details/120641989)

[esp8266 å‘é€é‚®ä»¶ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/389776423)

126é‚®ç®±ï¼ˆä»…é‚®ç®±ï¼‰ï¼š[ç½‘æ˜“é‚®ç®±6.0ç‰ˆ (126.com)](https://mail.126.com/js6/main.jsp?sid=VAlrBJqVhgzTpiUfkuVVfrSIXkbGhuJi&df=unknow#module=welcome.WelcomeModule%7C%7B%7D)
è´¦å·ï¼šcbxgovo
å¯†ç ï¼šh**      0
æˆåŠŸå¼€å¯IMAP/SMTPæœåŠ¡ï¼Œåœ¨ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ç™»å½•æ—¶ï¼Œç™»å½•å¯†ç è¾“å…¥ä»¥ä¸‹æˆæƒå¯†ç ï¼šXUNGOJZQGIHPZEJS
![](201903040009images.aasts/image-20230412224501822.png)

---
å…ˆå®‰è£…ä¸€ä¸ªå®˜æ–¹çš„åº“ï¼šESP Mail Client
![](201903040009images.aasts/image-20230412225230614.png)


`å®Œæ•´å¯ç”¨è°ƒé€šç‰ˆæœ¬ä»£ç `
```c
#include <Arduino.h>
#include <ESP8266WiFi.h>
#include <ESP_Mail_Client.h>

#define WIFI_SSID "cbxg"
#define WIFI_PASSWORD "12345678"

 
#define SMTP_HOST "smtp.126.com"
//å®šä¹‰ç«¯å£ï¼Œä¸€èˆ¬SSL 465 éSSL 25ï¼Œå…¶ä»–çš„è‡ªå·±è‡ªè¡Œç™¾åº¦
#define SMTP_PORT 465 

//å‘é€ä½¿ç”¨é‚®ç®±
#define AUTHOR_EMAIL "cbxgovo@126.com"
#define AUTHOR_PASSWORD "XUNGOJZQGIHPZEJS"  //æˆæƒç  ç½‘æ˜“çš„æ˜¯16ä½ï¼Œå…¶ä»–çš„é‚®ç®±è‡ªå·±å»çœ‹

//æ¥æ”¶ä½¿ç”¨é‚®ç®±
#define RECIPIENT_EMAIL "960919993@qq.com"

/* å®šä¹‰ smtp session å¯¹è±¡*/
SMTPSession smtp;  
ESP_Mail_Session session;//?  





/* è·å–é‚®ä»¶å‘é€çŠ¶æ€çš„å›è°ƒå‡½æ•° */
void getSmtpStatusCallback(SMTP_Status status);


void setup(){
  Serial.begin(115200);
  WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
  while (WiFi.status() != WL_CONNECTED){
    delay(200);
  }
  Serial.println("WiFi è¿æ¥æˆåŠŸ.");
  Serial.println("IP åœ°å€: ");
  Serial.println(WiFi.localIP());
 
 
// SMTP_Message message;


 
}
 

 
void loop(){

  if (1){
  alarm();
    
  }
  delay(20000);
}


//é‚®ä»¶å‘é€æ¨¡å—
void alarm(){
/* smtpå¼€å¯debugï¼Œdebugä¿¡æ¯è¾“å‡ºåˆ°ä¸²å£ */
  smtp.debug(1);
 
  
  /* è®¾ç½®smtp ç›¸å…³å‚æ•°ï¼Œ host, portç­‰ */
  session.server.host_name = SMTP_HOST;
  session.server.port = SMTP_PORT;
  session.login.email = AUTHOR_EMAIL;
  session.login.password = AUTHOR_PASSWORD;
  session.login.user_domain = "";
 
  /* å®šä¹‰smtp messageæ¶ˆæ¯ç±» */
  SMTP_Message message;

  /* æ³¨å†Œå›è°ƒå‡½æ•°ï¼Œè·å–é‚®ä»¶å‘é€çŠ¶æ€ */
  smtp.callback(getSmtpStatusCallback);

 
  /* å®šä¹‰é‚®ä»¶æ¶ˆæ¯ç±»çš„åç§°ï¼Œå‘ä»¶äººï¼Œæ ‡é¢˜å’Œæ·»åŠ æ”¶ä»¶äºº */
  message.sender.name = "å‘é€è€…åå­—";
  message.sender.email = AUTHOR_EMAIL;
  message.subject = "ä¸»é¢˜";
  message.addRecipient("æ¥å—è€…åå­—éšä¾¿å¡« ä¸ä¼šæœ‰ä½“ç°", RECIPIENT_EMAIL);
 
  /* è®¾ç½®message html æ ¼å¼å’Œå†…å®¹*/
  String htmlMsg = "<div style=\"color:#2f4468;\"><h1>Hello World!</h1><p>Sent from Esp8266er</p></div>";
  message.html.content = htmlMsg.c_str();
  message.text.charSet = "us-ascii";
  message.html.transfer_encoding = Content_Transfer_Encoding::enc_7bit;

 
  /* è¿æ¥smtpæœåŠ¡å™¨ */
  if (!smtp.connect(&session))
    return;
 
  /* è°ƒç”¨å‘é€é‚®ä»¶å‡½æ•°ï¼Œå¤±è´¥çš„è¯ï¼Œè·å–å¤±è´¥ä¿¡æ¯ */
  if (!MailClient.sendMail(&smtp, &message))
    Serial.println("Fail to sending , " + smtp.errorReason());
}
 



 
void getSmtpStatusCallback(SMTP_Status status){
  /* è¾“å‡ºé‚®ä»¶å‘é€çŠ¶æ€ä¿¡æ¯ */
  Serial.println(status.info());
 
  /*çŠ¶æ€è·å–æˆåŠŸï¼Œæ‰“å°çŠ¶æ€ä¿¡æ¯ */
  if (status.success()){
    Serial.println("----------------");
    ESP_MAIL_PRINTF("é‚®ä»¶å‘é€æˆåŠŸä¸ªæ•°: %d\n", status.completedCount());
    ESP_MAIL_PRINTF("é‚®ä»¶å‘é€å¤±è´¥ä¸ªæ•°: %d\n", status.failedCount());
    Serial.println("----------------\n");
    
    struct tm dt;
 
    for (size_t i = 0; i < smtp.sendingResult.size(); i++){
      /* ä¾æ¬¡è·å–å‘é€é‚®ä»¶çŠ¶æ€ */
      SMTP_Result result = smtp.sendingResult.getItem(i);
      time_t ts = (time_t)result.timestamp;
      localtime_r(&ts, &dt);
      ESP_MAIL_PRINTF("æ”¶ä»¶äºº: %sé‚®ä»¶å‘é€çŠ¶æ€ä¿¡æ¯\n", result.recipients);
      ESP_MAIL_PRINTF("çŠ¶æ€: %s\n", result.completed ? "success" : "failed");
      ESP_MAIL_PRINTF("å‘é€æ—¶é—´: %d/%d/%d %d:%d:%d\n", dt.tm_year + 1900, dt.tm_mon + 1, dt.tm_mday, dt.tm_hour, dt.tm_min, dt.tm_sec);
      ESP_MAIL_PRINTF("é‚®ä»¶æ ‡é¢˜: %s\n", result.subject);
    }
    Serial.println("----------------\n");
  }
}

```

## æµ‹è¯•ç»“æœ

![](201903040009images.aasts/image-20230420205521639.png)








# Ublox 6m GPSæ¨¡å— D1 D2ã€RX TXã€‘
-   Ublox 6m GPSæ¨¡å—æˆ–ç±»ä¼¼å‹å·Ã—1   # GPS-NEO-6M
<span style="background:#ff4d4f">æœ‰æ—¶å°†GPSæ¨¡å—è¿æ¥åˆ°å«æ˜Ÿéœ€è¦å‡ åˆ†é’Ÿã€‚è¿æ¥åï¼Œæ¨¡å—ä¸Šçš„è“è‰² LED å°†å¼€å§‹é—ªçƒã€‚</span>

æˆ‘ä¹°çš„æ·˜å®é“¾æ¥ï¼š[GY-NEO-6M/7M/8M GPSæ¨¡å— æœ‰æºé™¶ç“·å¤©çº¿ é™¶ç“·å¤©çº¿æ¨¡å— é™¶ç“·ç‰‡å¤©çº¿-æ·˜å®ç½‘ (taobao.com)](https://item.taobao.com/item.htm?id=560873820078&price=2.5-35.5&sourceType=item&sourceType=item&suid=02d904ec-1130-4188-9d8a-4e3d104cd523&shareUniqueId=20984368163&ut_sk=1.YaV48WG3xLkDACjC6cdD9B0Y_21646297_1681720555256.Copy.1&un=56d835173df514b90f8768acc41474bb&share_crt_v=1&un_site=0&spm=a2159r.13376460.0.0&sp_abtk=gray_1_code_simpleAndroid2&tbSocialPopKey=shareItem&sp_tk=bXU4a2RsbldCdE4%3D&cpp=1&shareurl=true&short_name=h.UG6XUTY&bxsign=scdquYM2sR11ms3i0-Yfgr2ectZYlSJmJho240DmwZfcW3y2DDeshNN1SHRimxruBOiYZGMGJW3ZJeKemVMssiDKCaNbHu_Nh2peiX2knM_jaqeeH6CWRJ4sjs3Ug7lhJO6&tk=mu8kdlnWBtN&app=chrome)

[ã€ä¸­è‹±å­—å¹•ã€‘åˆ©ç”¨ GPS æ¨¡å—å’Œ ESP8266 ç›‘æ§ç›®æ ‡æˆ–ä½ç½®_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1i44y1K7v8/?vd_source=055c0f614d8dec2c3bf7aff0db5e54cb)

[NodeMCUåœ¨OLEDæ˜¾ç¤ºå±ä¸Šæ˜¾ç¤ºGPSæ•°æ® â€“ è¶£è®¨æ•™ (qutaojiao.com)](https://www.qutaojiao.com/6755.html)



---
## Webæ˜¾ç¤º
[GPS Module Interfacing with NodeMCU ESP8266: Showing the Latitude and Longitude on Webpage (iotdesignpro.com)](https://iotdesignpro.com/projects/nodemcu-esp8266-gps-module-interfacing-to-display-latitude-and-longitude)
èƒ½è·å–åˆ°ç»åº¦å’Œçº¬åº¦

tinygpsåº“å¯¹GPSä¿¡æ¯ç›´æ¥åˆ†ç¦»è·å–ç»çº¬åº¦
åº“åœ°å€ï¼š[TinyGPS - Arduino Libraries](https://www.arduinolibraries.info/libraries/tiny-gps)
[TinyGPS - Arduino Reference](https://www.arduino.cc/reference/en/libraries/tinygps/)

![](201903040009images.aasts/image-20230408173249594.png)


Connect theÂ **Ublox Neo 6m GPS module**Â directly to NodeMCU board by connecting GND pin of neo 6m to GND pin of NodeMCU and VCC pin to 3v3 pin. <font color="#ffff00">Also connect RXD to D1 and TXD to D2.</font>

Most of the other GPS modules need 5v power but Neo-6m works on 3.3v so we can directly power the GPS module from the NodeMCU module.

```
#include <TinyGPS++.h> // library for GPS module  
#include <SoftwareSerial.h>  
#include <ESP8266WiFi.h>  
TinyGPSPlus gps; Â // The TinyGPS++ object  

SoftwareSerial ss(4, 5); // The serial connection to the GPS device   rx(GPIO4 D2)  tx(GPIO5 D1)
const char* ssid = "Onlilo_SP"; //ssid of your wifi  
const char* password = "ArduinoUno"; //password of your wifi  
float latitude , longitude;  
int year , month , date, hour , minute , second;  
String date_str , time_str , lat_str , lng_str;  
int pm;  
WiFiServer server(80);

void setup()  
{  
Â  Serial.begin(115200);  
Â  ss.begin(9600);  
Â  Serial.println();  
Â  Serial.print("Connecting to ");  
Â  Serial.println(ssid);  
Â  WiFi.begin(ssid, password); //connecting to wifi  
Â  while (WiFi.status() != WL_CONNECTED)// while wifi not connected  
Â  {  
Â  Â  delay(500);  
Â  Â  Serial.print("."); //print "...."  
Â  }  
Â  Serial.println("");  
Â  Serial.println("WiFi connected");  
Â  server.begin();  
Â  Serial.println("Server started");  
Â  Serial.println(WiFi.localIP()); Â // Print the IP address  
}

  
void loop()  
{  
Â  while (ss.available() > 0) //while data is available  
Â  Â  if (gps.encode(ss.read())) //read gps data  
Â  Â  {  
Â  Â  Â  if (gps.location.isValid()) //check whether gps location is valid  
Â  Â  Â  {  
Â  Â  Â  Â  latitude = gps.location.lat();  
Â  Â  Â  Â  lat_str = String(latitude , 6); // latitude location is stored in a string  
Â  Â  Â  Â  longitude = gps.location.lng();  
Â  Â  Â  Â  lng_str = String(longitude , 6); //longitude location is stored in a string  
Â  Â  Â  }  
Â  Â  Â  if (gps.date.isValid()) //check whether gps date is valid  
Â  Â  Â  {  
Â  Â  Â  Â  date_str = "";  
Â  Â  Â  Â  date = gps.date.day();  
Â  Â  Â  Â  month = gps.date.month();  
Â  Â  Â  Â  year = gps.date.year();  
Â  Â  Â  Â  if (date < 10)  
Â  Â  Â  Â  Â  date_str = '0';  
Â  Â  Â  Â  date_str += String(date);// values of date,month and year are stored in a string  
Â  Â  Â  Â  date_str += " / ";

Â  Â  Â  Â  if (month < 10)  
Â  Â  Â  Â  Â  date_str += '0';  
Â  Â  Â  Â  date_str += String(month); // values of date,month and year are stored in a string  
Â  Â  Â  Â  date_str += " / ";  
Â  Â  Â  Â  if (year < 10)  
Â  Â  Â  Â  Â  date_str += '0';  
Â  Â  Â  Â  date_str += String(year); // values of date,month and year are stored in a string  
Â  Â  Â  }  
Â  Â  Â  if (gps.time.isValid()) Â //check whether gps time is valid  
Â  Â  Â  {  
Â  Â  Â  Â  time_str = "";  
Â  Â  Â  Â  hour = gps.time.hour();  
Â  Â  Â  Â  minute = gps.time.minute();  
Â  Â  Â  Â  second = gps.time.second();  
Â  Â  Â  Â  minute = (minute + 30); // converting to IST  
Â  Â  Â  Â  if (minute > 59)  
Â  Â  Â  Â  {  
Â  Â  Â  Â  Â  minute = minute - 60;  
Â  Â  Â  Â  Â  hour = hour + 1;  
Â  Â  Â  Â  }  
Â  Â  Â  Â  hour = (hour + 5) ;  
Â  Â  Â  Â  if (hour > 23)  
Â  Â  Â  Â  Â  hour = hour - 24; Â  // converting to IST  
Â  Â  Â  Â  if (hour >= 12) Â // checking whether AM or PM  
Â  Â  Â  Â  Â  pm = 1;  
Â  Â  Â  Â  else  
Â  Â  Â  Â  Â  pm = 0;  
Â  Â  Â  Â  hour = hour % 12;  
Â  Â  Â  Â  if (hour < 10)  
Â  Â  Â  Â  Â  time_str = '0';  
Â  Â  Â  Â  time_str += String(hour); //values of hour,minute and time are stored in a string  
Â  Â  Â  Â  time_str += " : ";  
Â  Â  Â  Â  if (minute < 10)  
Â  Â  Â  Â  Â  time_str += '0';  
Â  Â  Â  Â  time_str += String(minute); //values of hour,minute and time are stored in a string  
Â  Â  Â  Â  time_str += " : ";  
Â  Â  Â  Â  if (second < 10)  
Â  Â  Â  Â  Â  time_str += '0';  
Â  Â  Â  Â  time_str += String(second); //values of hour,minute and time are stored in a string  
Â  Â  Â  Â  if (pm == 1)  
Â  Â  Â  Â  Â  time_str += " PM ";  
Â  Â  Â  Â  else  
Â  Â  Â  Â  Â  time_str += " AM ";  
Â  Â  Â  }  
Â  Â  }  
Â   
Â WiFiClient client = server.available(); // Check if a client has connected  
Â  if (!client)  
Â  {  
Â  Â  return;  
Â  }  
Â  // Prepare the response  
Â  String s = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n <!DOCTYPE html> <html> <head> <title>GPS DATA</title> <style>";  
Â  s += "a:link {background-color: YELLOW;text-decoration: none;}";  
Â  s += "table, th, td </style> </head> <body> <h1 Â style=";  
Â  s += "font-size:300%;";  
Â  s += " ALIGN=CENTER> GPS DATA</h1>";  
Â  s += "<p ALIGN=CENTER style=""font-size:150%;""";  
Â  s += "> <b>Location Details</b></p> <table ALIGN=CENTER style=";  
Â  s += "width:50%";  
Â  s += "> <tr> <th>Latitude</th>";  
Â  s += "<td ALIGN=CENTER >";  
Â  s += lat_str;  
Â  s += "</td> </tr> <tr> <th>Longitude</th> <td ALIGN=CENTER >";  
Â  s += lng_str;  
Â  s += "</td> </tr> <tr> Â <th>Date</th> <td ALIGN=CENTER >";  
Â  s += date_str;  
Â  s += "</td></tr> <tr> <th>Time</th> <td ALIGN=CENTER >";  
Â  s += time_str;  
Â  s += "</td> Â </tr> </table> ";  
Â   
Â  s += "</body> </html>"

Â  client.print(s); // all the values are send to the webpage  
Â  delay(100);  
}
```

## è½¯ä¸²å£SoftwareSerial ssï¼ˆ4ï¼Œ5ï¼‰
[SoftwareSerialåº“çš„ä½¿ç”¨â€”â€”Arduinoè½¯ä»¶æ¨¡æ‹Ÿä¸²å£é€šä¿¡_HBX_1024çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_42860728/article/details/84402835)

è½¯ä¸²å£æœ‰å¦‚ä¸‹æˆå‘˜å‡½æ•°ï¼š

SoftwareSerial()  
SoftwareSerialç±»çš„æ„é€ å‡½æ•°ï¼Œé€šè¿‡å®ƒå¯æŒ‡å®šè½¯ä¸²å£RXã€TXå¼•è„šã€‚  
è¯­æ³•ï¼š  
SoftwareSerial mySerial= SoftwareSerial(rxPin, txPin)  
SoftwareSerial mySerial(<font color="#ffff00">rxPin, txPin</font>)

å‚æ•°ï¼š  
mySerialï¼šç”¨æˆ·è‡ªå®šä¹‰è½¯ä»¶ä¸²å£å¯¹è±¡  
<font color="#ffff00">rxPinï¼šè½¯ä¸²å£æ¥æ”¶å¼•è„š  </font>
<font color="#ffff00">txPinï¼šè½¯ä¸²å£å‘é€å¼•è„š</font>


```
ä¾‹å¦‚ä¸Šä¸€ä¸ªä»£ç æ®µä¸­ï¼š
SoftwareSerial ss(4, 5); // The serial connection to the GPS device   rx(GPIO4 D2)  tx(GPIO5 D1)
//è½¯ä¸²å£è®¾ç½®å¥½çš„rxä¸ä¼ æ„Ÿå™¨çš„tx æ¥ ï¼›è½¯ä¸²å£è®¾ç½®å¥½çš„txä¸ä¼ æ„Ÿå™¨çš„rx æ¥ 
```


## ä¸²å£ç›´æ¥æ‰“å°è¾“å‡º
[GPSæ¨¡å—â€”â€”åŸºäºArduino_arduino tinygps_è°è¿˜ä¸æ˜¯ä¸ªè‚¥é¹¤å’‹æ»´çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_52089717/article/details/124370479)



```c
//è¯¥ä»£ç å—ç›´æ¥ä½¿ç”¨tinygpsåº“å¯¹GPSä¿¡æ¯ç›´æ¥åˆ†ç¦»è·å–ç»çº¬åº¦
#include <TinyGPS++.h>
#include <SoftwareSerial.h>

TinyGPSPlus gps;
SoftwareSerial ss(4, 3);

float latitude;
float longitude;

void setup()
  {
    Serial.begin(9600); //set the baud rate of serial port to 9600;
    ss.begin(9600); //set the GPS baud rate to 9600;
  }

void loop()
  {
    while (ss.available() > 0)
      {
        gps.encode(ss.read()); //The encode() method encodes the string in the encoding format specified by encoding.
        
        if (gps.location.isUpdated())
          {
            latitude = gps.location.lat(); //gps.location.lat() can export latitude
            longitude = gps.location.lng();//gps.location.lng() can export latitude
            Serial.print("Latitude=");
            Serial.print(latitude, 6);  //Stable after the fifth position
            Serial.print(" Longitude=");
            Serial.println(longitude, 6);
            delay(500);
          }
      }
  }

```

## æ¨¡å—éœ€è¦æ³¨æ„çš„ä¸€äº›é—®é¢˜
GPSæ¨¡å—é»˜è®¤æ¯ç§’è‡ªåŠ¨è¾“å‡ºä¸€æ¬¡ç»çº¬åº¦ã€æµ·æ‹”ã€UTCä¿¡æ¯
GPSä¸Šç”µå·¥ä½œåå¤§æ¦‚éœ€è¦1~3åˆ†é’Ÿï¼ˆæ—¶é—´é•¿çŸ­å–å†³äºä¿¡å·å¥½åï¼‰çš„æœæ˜Ÿå®šä½å‡†å¤‡å·¥ä½œï¼Œæ­¤é˜¶æ®µæ— æ•°æ®è¾“å‡º
å¦‚æœå¸Œæœ›æé«˜æœæ˜Ÿèƒ½åŠ›æˆ–è€…åœ¨å®¤å†…å®šä½ï¼Œè¯·å°†GPSæ¨¡å—çš„å¤©çº¿æ¢æˆæœ‰æºå¤©çº¿
å½“GPSæ¨¡å—ä¸Šçš„LEDç¯å¼€å§‹æ¯ç§’é—ªçƒä¸€æ¬¡æ—¶ï¼Œè¯´æ˜GPSæ­¤æ—¶æœ‰æ•°æ®æ­£åœ¨è¾“å‡º
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/ucos_hqu/article/details/124447874

---
`GPSæ¨¡å—çš„å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ³•`

1ã€GPSæ¨¡å—çš„20é€šé“æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ

GPSæ¨¡å—æœ‰ä¸€ä¸ªé€šé“æ•°é‡çš„å‚æ•°ï¼Œä¾‹å¦‚20é€šé“ï¼Œå®ƒè¡¨ç¤ºè¯¥æ¨¡å—æœ€å¤§å¯ä»¥åŒæ—¶å’Œ20é¢—å«æ˜Ÿå»ºç«‹é€šè®¯ï¼Œ3é¢—å«æ˜Ÿæ˜¯2Då®šä½ï¼Œæ•°æ®ä¸ç¨³å®šï¼Œæ¨¡å—åªæœ‰åŒæ—¶æ”¶åˆ°3é¢—ä»¥ä¸Šå«æ˜Ÿä¿¡å·åï¼Œç»è¿‡å¤æ‚è¿ç®—åæ‰èƒ½è·å¾—æ­£ç¡®çš„å®šä½æ•°æ®ï¼Œå¦‚æœåŒæ—¶é€šè®¯çš„å«æ˜Ÿé¢—æ•°è¶Šå¤šï¼Œæ¨¡å—å°±èƒ½è¶Šå¿«è¶Šå‡†ç¡®åœ°è·å¾—å®šä½æ•°æ®ï¼Œåœ¨åœ°çƒè¡¨é¢ä¸Šä¸€èˆ¬çš„åŸå¸‚ç¯å¢ƒä¸‹é€šå¸¸å¯ä»¥åŒæ—¶å’Œ4ï½11é¢—å«æ˜ŸåŒæ—¶é€šè®¯ã€‚

2ã€GPSæ¨¡å—ä¸ºä»€ä¹ˆå¼€æœºåå¾ˆé•¿æ—¶é—´æ‰èƒ½è·å¾—å®šä½æ•°æ®ï¼Ÿ

GPSæ¨¡å—æœ‰å†·å¯åŠ¨å’Œçƒ­å¯åŠ¨ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœGPSæ¨¡å—åˆæ¬¡é€šç”µï¼Œæˆ–è€…ç§»åŠ¨è¶…è¿‡1000å…¬é‡Œåé€šç”µæ—¶ï¼Œæ¨¡å—è¦é‡æ–°è®¡ç®—ä¸€æ¬¡æ˜Ÿå†æ•°æ®ï¼Œ<font color="#ffff00">ä¸€èˆ¬éœ€è¦1ï½5åˆ†é’Ÿ</font>ï¼Œç„¶åå°†æ˜Ÿå†æ•°æ®å­˜å‚¨åœ¨æ¨¡å—å†…éƒ¨ï¼Œé æ¨¡å—å†…éƒ¨çš„é”‚ç”µæ± ä¿å­˜æ•°æ®ï¼Œè¿™å«å†·å¯åŠ¨ï¼Œéœ€è¦è¾ƒé•¿çš„æ—¶é—´ã€‚å¦‚æœä¸‹æ¬¡å¼€æœºï¼Œå› ä¸ºé”‚ç”µæ± å·²ç»ä¿å­˜äº†æœ‰æ•ˆçš„æ˜Ÿå†æ•°æ®ï¼Œæ‰€ä»¥èƒ½å¿«é€Ÿå®šä½ï¼Œä¸€èˆ¬åœ¨30ç§’ä»¥å†…ï¼Œæ‰€ä»¥å«çƒ­å¯åŠ¨ï¼Œå¦‚æœæ¨¡å—æ–­ç”µæ—¶é—´è¶…è¿‡10å°æ—¶ï¼Œé”‚ç”µæ± æ”¾ç”µæ”¾å…‰ï¼Œé‚£ä¹ˆå†å¼€æœºä¹Ÿç›¸å½“äºå†·å¯åŠ¨ã€‚

3ã€å¦‚æœå‡ºç°é•¿æ—¶é—´æ— æ³•å†·å¯åŠ¨å®šä½æ—¶æ€ä¹ˆåŠï¼Ÿ

åªæœ‰åœ¨<font color="#ffff00">æå°‘æ•°æƒ…å†µä¸‹ä¼šå‡ºç°è¶…è¿‡15åˆ†é’Ÿæ— æ³•å†·å¼€æœº</font>ï¼Œè¿™æ—¶ä¸€èˆ¬åªè¦å°†GPSæ¨¡å—é‡æ–°æ–­ç”µå¼€æœºæˆ–è€…æ£€æŸ¥GPSæ˜¯å¦æ¥åã€‚

4ã€æœä¸åˆ°å«æ˜Ÿä¿¡å·æˆ–è€…ä¿¡å·æ¥æ”¶æ…¢

â‘ é‡åˆ°è¿™ç§æƒ…å†µä¸è¦ç€æ€¥ï¼Œæ›´æ¢åœ°ç‚¹å†è¯•è¯•ã€‚GPSæ¨¡å—é ç›´æ¥æ¥æ”¶å«æ˜Ÿä¿¡å·å·¥ä½œï¼Œå¯èƒ½æ˜¯å…¶ä»–ç‰©å“é®æŒ¡äº†ä¿¡å·ï¼Œå¯ä»¥åˆ°ç©ºæ—·çš„å®¤å¤–æ¥æ”¶åˆ°å«æ˜Ÿä¿¡å·ï¼Œå®¤å†…å¯èƒ½ä¼šå½±å“åˆ°ä¿¡å·æŸ¥æ”¶ï¼Œé™ä½ç²¾å‡†åº¦ã€‚

â‘¡è¿˜è¦æ£€æŸ¥ä¸‹å¤©çº¿ï¼ŒæŸ¥çœ‹å¤©çº¿æ˜¯å¦æ¥è§¦è‰¯å¥½ï¼Œæ‰€åœ¨ç¯å¢ƒæ˜¯å¦ç›¸å¯¹ç©ºæ—·ã€‚

â‘¢GPSæ¨¡å—çš„è¿è¡Œä¸æ¥æ”¶åˆ°çš„å«æ˜Ÿå¤šå°‘ã€ä¿¡å·å¼ºå¼±æœ‰ç›´æ¥å…³ç³»ï¼Œç”±äºå«æ˜ŸçŠ¶æ€æ¯å¤©éƒ½ä¸åŒï¼Œä¿¡å·å¯èƒ½ä¼šå‡ºç°è¯¯å·®ã€‚

â‘£åœ¨ç³»ç»Ÿåº”ç”¨ä¸­å¦‚æœæœ‰å¤§åŠŸç‡çš„å‘å°„ä¼šå¹²æ‰°åˆ°å«æ˜Ÿä¿¡å·çš„æ¥æ”¶ã€‚

â‘¤æ— çº¿ä¿¡å·çš„è°æ³¢ç‚¹åˆšå¥½åœ¨GPSæˆ–è€…åŒ—æ–—çš„é¢‘ç‡ä¸Šä¹Ÿä¼šå¹²æ‰°åˆ°å«æ˜Ÿä¿¡å·çš„æ¥æ”¶ã€‚

---

[atk-neo-6m gpsæ¨¡å—å¸¸è§é—®é¢˜æ±‡æ€» - è±†ä¸ç½‘ (docin.com)](https://www.docin.com/p-919537671.html)

![](201903040009images.aasts/image-20230417162508766.png)

![](201903040009images.aasts/image-20230417162615932.png)


## ä¸€äº›é—®é¢˜

[GPS-NEO-6Mèƒ½æ”¶åˆ°æ—¶é—´æ²¡æœ‰ç»çº¬åº¦ - æœç´¢ (bing.com)](https://cn.bing.com/search?q=GPS-NEO-6M%E8%83%BD%E6%94%B6%E5%88%B0%E6%97%B6%E9%97%B4%E6%B2%A1%E6%9C%89%E7%BB%8F%E7%BA%AC%E5%BA%A6&qs=n&form=QBRE&sp=-1&lq=0&pq=gps-neo-6m%E8%83%BD%E6%94%B6%E5%88%B0%E6%97%B6%E9%97%B4%E6%B2%A1%E6%9C%89jing%27wei%27du&sc=0-28&sk=&cvid=AB37CDE9B0ED4B10B73927DD805E5040&ghsh=0&ghacc=0&ghpl=)




---
# è¯­éŸ³æ’­æŠ¥ â™¥
<font color="#ffff00">è¯»å–æœ¬åœ°yoloæ§åˆ¶æ¿ è¯­éŸ³æ’­æŠ¥ï¼Œç°åœ¨ç¡¬ä»¶å·²ç»èƒ½æŒ‰é”®è§¦å‘è¯†åˆ« ç„¶åæ¥æ”¶åˆ°è¯†åˆ«çš„ç»“æœ</font>
<font color="#ffff00">ä¸‹ä¸€æ­¥å°±æ˜¯å°†å¯¹åº”çš„è¯†åˆ«ä¿¡æ¯è¿›è¡Œæ’­æŠ¥äº†</font>

ä¸Šä¼ æ–‡ä»¶æ’­æ”¾ æŒ‰ä¸‹æŒ‰é’®åˆ™æ’­æ”¾ï¼š
[ESP8266æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/37907663)

[å›¾å§å°ç™½æ•™ç¨‹ ç¯‡å››åï¼šç”¨ESP8266 WIFIæ¨¡å—è‡ªåˆ¶MP3_éŸ³é¢‘æ’­æ”¾å™¨_ä»€ä¹ˆå€¼å¾—ä¹° (smzdm.com)](https://post.smzdm.com/p/awxq4d5g/)

ğŸ˜github : [earlephilhower/ESP8266Audioï¼šArduino åº“ï¼Œå¯åœ¨ I3S DAC ä¸Šæ’­æ”¾ MODã€WAVã€FLACã€MIDIã€RTTTLã€MP2 å’Œ AAC æ–‡ä»¶ï¼Œæˆ–åœ¨ ESP8266 å’Œ ESP32 ä¸Šä½¿ç”¨è½¯ä»¶æ¨¡æ‹Ÿ Î”-Î£ DAC æ–‡ä»¶ (github.com)](https://github.com/earlephilhower/ESP8266Audio)

ä»˜è´¹ï¼š[åˆ©ç”¨ESP8266Audioåº“å®ç°ESP8266è¯­éŸ³æ’­æŠ¥åŠŸèƒ½_ç‰©è”å­¦é•¿çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/m0_66347114/article/details/125793124)

---
## æ–¹æ¡ˆ1 SAM
Sam is a very small Text-To-Speech (TTS) program written in C

å®˜ç½‘ï¼šhttps://simulationcorner.net/index.php?page=sam
[Website of Jan Derogee](https://janderogee.com/projects/SerialSpeechSynthesisSAM/SerialSpeechSynthesisSAM.htm)

æœç´¢å…³é”®è¯ï¼šESP8266SAM ã€è¿˜æ˜¯ä¾èµ–çš„åº“åç§°ã€‘

ğŸ˜ä»˜è´¹ è¿™ä¸ªçœ‹èµ·æ¥ç›®å‰æœ€é è°±çš„ï¼š
[ESP8266SAM:ä½¿ç”¨SAMç«¯å£çš„ESP8266è¯­éŸ³åˆæˆ_esp32è°ƒç”¨tts-å…¶å®ƒä»£ç ç±»èµ„æº-CSDNæ–‡åº“](https://download.csdn.net/download/weixin_42108778/18315617?spm=1001.2101.3001.6650.13&utm_medium=distribute.pc_relevant.none-task-download-2%7Edefault%7EOPENSEARCH%7ERate-13-18315617-blog-125793124.235%5Ev29%5Epc_relevant_default_base3&depth_1-utm_source=distribute.pc_relevant.none-task-download-2%7Edefault%7EOPENSEARCH%7ERate-13-18315617-blog-125793124.235%5Ev29%5Epc_relevant_default_base3&utm_relevant_index=19)
![](201903040009images.aasts/image-20230417182421201.png)
è¿™ä¸ªæ˜¯æ¬è¿çš„ï¼š[earlephilhower/ESP8266SAM: Speech synthesis for ESP8266 using S.A.M. port (github.com)](https://github.com/earlephilhower/ESP8266SAM)


ğŸ˜githubç¬¬ä¸€æ®µæœ‰æåˆ°ï¼š[earlephilhower/ESP8266Audio: Arduino library to play MOD, WAV, FLAC, MIDI, RTTTL, MP3, and AAC files on I2S DACs or with a software emulated delta-sigma DAC on the ESP8266 and ESP32 (github.com)](https://github.com/earlephilhower/ESP8266Audio#installation)
![](201903040009images.aasts/image-20230417182723469.png)

## æ–¹æ¡ˆ2 TTSè¯­éŸ³åˆæˆæ¨¡å— SYN6288ğŸ˜ #å¾…åŠ
---
updated: 2023-04-17 21:44

æ·˜å®é“¾æ¥ èµ„æ–™ï¼š
[SYN6288è¯­éŸ³åˆæˆæ¨¡å— æ–‡å­—è½¬è¯­éŸ³TTSçœŸäººå‘éŸ³ æœ‰ä¸Šä½æœº å–‡å­-tmall.comå¤©çŒ«](https://detail.tmall.com/item.htm?app=chrome&bxsign=scdBaNJ6P0-YdRyljFS7qv8EJupuyec0OoKmY1T-ULnOszPTlANVxcFGpWh6eDETU-eOmBWLNamfNqQ9wzo3pz2D7mi4i9EU08iJH1m3GMYH4Dp-A_c3nZRPFnGsqbqYM7j&cpp=1&id=626679473209&price=47.6-48.6&shareUniqueId=20986849964&share_crt_v=1&shareurl=true&short_name=h.UtjXdNO&sourceType=item,item&sp_abtk=gray_1_code_simpleAndroid2&sp_tk=QWxzbmRsTUdRR2c=&spm=a2159r.13376460.0.0&suid=3803e159-fe0d-4def-b3e1-6c5d2f073eb9&tbSocialPopKey=shareItem&tk=AlsndlMGQGg&un=56d835173df514b90f8768acc41474bb&un_site=0&ut_sk=1.YaV48WG3xLkDACjC6cdD9B0Y_21646297_1681732044873.Copy.1)

[Arduino è¯­éŸ³äº¤äº’ TTSè¯­éŸ³åˆæˆï¼ˆä¸€ï¼‰ (zhihu.com)](https://www.zhihu.com/tardis/zm/art/66314323?source_id=1005#:~:text=Arduino%20%E8%AF%AD%E9%9F%B3%E4%BA%A4%E4%BA%92%20TTS%E8%AF%AD%E9%9F%B3%E5%90%88%E6%88%90%EF%BC%88%E4%B8%80%EF%BC%89%201%201.%E4%BB%80%E4%B9%88%E6%98%AFTTS%20TTS%E6%98%AFText%20To%20Speech%E7%9A%84%E7%BC%A9%E5%86%99%EF%BC%8C%E5%8D%B3%E2%80%9C%E4%BB%8E%E6%96%87%E6%9C%AC%E5%88%B0%E8%AF%AD%E9%9F%B3%E2%80%9D%EF%BC%8C%E6%98%AF%E4%BA%BA%E6%9C%BA%E5%AF%B9%E8%AF%9D%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%8C%E8%AE%A9%E6%9C%BA%E5%99%A8%E8%83%BD%E5%A4%9F%E8%AF%B4%E8%AF%9D%E3%80%82,...%204%204.%E7%A8%8B%E5%BA%8F%20%E7%A8%8B%E5%BA%8F%E6%98%AF%EF%BC%8C%E9%80%9A%E8%BF%87%E4%B8%B2%E5%8F%A3%EF%BC%8C%E5%B0%86%E6%8C%87%E4%BB%A4%E5%8F%8A%E8%AF%AD%E9%9F%B3%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81%E7%BB%99TTS%E8%AF%AD%E8%A8%80%E5%90%88%E6%88%90%E6%A8%A1%E5%9D%97%E3%80%82%20%E5%86%8D%E9%80%9A%E8%BF%87%E8%80%B3%E6%9C%BA%E5%B0%86%E5%90%88%E6%88%90%E5%A5%BD%E7%9A%84%E5%A3%B0%E9%9F%B3%E6%92%AD%E6%94%BE%E5%87%BA%E6%9D%A5%E3%80%82%20...%205%205.%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA)
[arduinoè°ƒç”¨æ–‡æœ¬è½¬è¯­éŸ³çš„æ¥å£ - æœç´¢ (bing.com)](https://www.bing.com/search?q=arduino%E8%B0%83%E7%94%A8%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E7%9A%84%E6%8E%A5%E5%8F%A3&qs=n&form=QBRE&sp=-1&lq=0&pq=arduinodiao%27yo%E6%96%87%E6%9C%AC%E8%BD%AC%E8%AF%AD%E9%9F%B3%E7%9A%84%E6%8E%A5%E5%8F%A3&sc=0-22&sk=&cvid=471A33983B9546B48D1AA87801ECD8D2&ghsh=0&ghacc=0&ghpl=)

---
æˆ‘ä»¬ä¸è¿™ä¸ªèŠ¯ç‰‡â€œå¯¹è¯â€ç”¨çš„ä¸æ˜¯ä¸­æ–‡ï¼Œå¾—é¦–å…ˆæŠŠä¸­æ–‡è½¬æ¢å®ƒæ‰èƒ½â€œå¿µå‡ºæ¥â€ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè¿™äº›è½¬æ¢çš„æ–¹æ³•ã€‚

ï¼Ÿ èƒ½ä¸èƒ½åœ¨å†…éƒ¨ç°è½¬æ¢
æˆ–è€…åŒ¹é…ä¹‹åæŒ¨ä¸ªå¿µ å®šä¹‰ä¸€å †å·²ç»å­˜å¥½çš„å›ºå®šå­— ç»„åˆå°±è¡Œè¿™æ ·å­

### å®ç°æ„æ€
å¦‚æœæ˜¯é€ä¸ªåŒ¹é…æ¥è¯­éŸ³æ’­æŠ¥ï¼Œé‚£ä¹ˆæˆ‘å‘å¸ƒçš„è¯†åˆ«æ¶ˆæ¯æˆ‘æ”¹æˆåè¿›åˆ¶çš„å­—ç¬¦ä¸²å‘é€åˆ°ç¡¬ä»¶ï¼Œé»˜è®¤æ¯ä¸€ä¸ªç§ç±»çš„æ•°é‡å…è®¸0-9ã€‚
![](201903040009images.aasts/image-20230417213126727.png)
![](201903040009images.aasts/image-20230417214124846.png)


åœ¨ç¡¬ä»¶å¤„å®šä¹‰speech();å‡½æ•° ç­‰ç€åŒ¹é…
åœ¨ç¡¬ä»¶å¤„æ”¶åˆ°æ¶ˆæ¯åï¼Œå°†å­—ç¬¦ä¸²åˆ†éš”/<span style="background:#ff4d4f">æ‹†åˆ†</span>å¹¶ä»¥ç±»ä¼¼`message == "0000"`è¿™æ ·åˆ¤æ–­ç­–ç•¥å¯¹æ¯ä¸€ä¸ªè¿›è¡Œåˆ¤æ–­å’Œæ’­æŠ¥ï¼Œä¸­é—´ç©¿æ’åˆé€‚çš„è¿‡åº¦è¯­å¥æ’­æŠ¥ã€‚


[åœ¨ Arduino ä¸­æ‹†åˆ†å­—ç¬¦ä¸² | Dæ ˆ - Delft Stack](https://www.delftstack.com/zh/howto/arduino/arduino-split-string/)


```c
String My_S = "hello world";

void setup(){
    Serial.begin(9600);
}
void loop(){
    String sub_S = My_S.substring(0,5);
    Serial.println(sub_S);
    delay(1000);
}
# è¾“å‡ºï¼šhello
# å­—ç¬¦ä¸²æ‹†åˆ†å°†ä» 0 å¼€å§‹ï¼ŒåŒ…æ‹¬ 0 ç´¢å¼•å­—ç¬¦ï¼Œå¹¶åœ¨ç´¢å¼• 5 ç»“æŸï¼Œä¸åŒ…æ‹¬ç´¢å¼• 5 å¤„çš„å­—ç¬¦ã€‚
```

### æ”¶åˆ°çš„è¯†åˆ«messageå­—ç¬¦ä¸²å¤„ç†


```c
String message = "33333563";

void setup(){
    Serial.begin(115200);
}
void loop(){
   mp3(message);
   delay(3000);


}


void mp3(String message1){
  // 0 1 2 4 7
    String sub_0 = message.substring(0,1);//äºº
    String sub_1 = message.substring(1,2);//è‡ªè¡Œè½¦
    String sub_2 = message.substring(2,3);//æ±½è½¦
    String sub_4 = message.substring(4,5);//å…¬äº¤è½¦
    String sub_7 = message.substring(7,8);//ç‹—
    int sub_0_int =(sub_0).toInt();
    int sub_1_int =(sub_1).toInt();
    int sub_2_int =(sub_2).toInt();
    int sub_4_int =(sub_4).toInt();
    int sub_7_int =(sub_7).toInt();
   

   if(message == "00000000"){
    Serial.println("å‰æ–¹æœªæ£€æµ‹åˆ°ä»»ä½•äº‹ç‰©");
  }
  else{
    //åœ¨æ­¤æ‹†åˆ†åˆ°4ä¸ªå˜é‡å½“ä¸­ Stringçš„å¤§çš„è½¬åˆ°å››ä¸ªå°çš„ int abcdå˜é‡ éœ€è¦å¼ºåˆ¶è½¬æ¢ä¸€ä¸‹ è²Œä¼¼ä¸éœ€è¦ å­—ç¬¦ä¸²åˆ¤æ–­å°±è¡Œ
    Serial.print("å‰æ–¹å…±æœ‰");
    
    switch(sub_0_int){//äºº
      case 0: ; break; //æ²¡æœ‰æ£€æµ‹åˆ°a ä¸æ’­æŠ¥
      case 1: Serial.print("1");Serial.println("ä¸ªäºº"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 2: Serial.print("2");Serial.println("ä¸ªäºº"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 3: Serial.print("3");Serial.println("ä¸ªäºº"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
    }
    

    switch(sub_1_int){//è‡ªè¡Œè½¦
      case 0: ; break; 
      case 1: Serial.print("1");Serial.println("è¾†è‡ªè¡Œè½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 2: Serial.print("2");Serial.println("è¾†è‡ªè¡Œè½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 3: Serial.print("3");Serial.println("è¾†è‡ªè¡Œè½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
    }


    switch(sub_2_int){//æ±½è½¦
      case 0: ; break; 
      case 1: Serial.print("1");Serial.println("è¾†æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 2: Serial.print("2");Serial.println("è¾†æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 3: Serial.print("3");Serial.println("è¾†æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
    }


     switch(sub_4_int){//å…¬äº¤è½¦
      case 0: ; break; 
      case 1: Serial.print("1");Serial.println("è¾†å…¬å…±æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 2: Serial.print("2");Serial.println("è¾†å…¬å…±æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 3: Serial.print("3");Serial.println("è¾†å…¬å…±æ±½è½¦"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
    }


     switch(sub_7_int){//ç‹—
      case 0: ; break; 
      case 1: Serial.print("1");Serial.println("æ¡ç‹—"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 2: Serial.print("2");Serial.println("æ¡ç‹—"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
      case 3: Serial.print("3");Serial.println("æ¡ç‹—"); break; //æ£€æµ‹åˆ°1ä¸ªa ,æ’­æŠ¥ 'ä¸€'
    }
 }


}

```




### å®ç°ç»“æœ â™¥
å…ˆç”¨ä¸²å£æ‰“å°æ¨¡æ‹Ÿ å®Œå…¨æ­£ç¡® å®Œå…¨åˆé€‚
![](201903040009images.aasts/image-20230420220104855.png)


![](201903040009images.aasts/image-20230420220014058.png)

ç›®å‰åªæ”¯æŒæ¯ç§ç‰©å“æœ€å¤šä¸‰ä¸ª å› ä¸ºå¤ªå¤šäº†æˆ‘æ€•è¯­éŸ³æ’­æŠ¥å ç©ºå¤ªå¤š æˆ‘æ€•å¤ªå¡äº†












---

[TTS çœŸäººå‘éŸ³ SYN6288 æ¨¡å— - WWW.LAB-Z.COM](http://www.lab-z.com/ttssyn/)
![](201903040009images.aasts/image-20230417200857978.png)

---







## æ–‡æœ¬è½¬è¯­éŸ³çš„æ¥å£
[æ–‡æœ¬è½¬è¯­éŸ³çš„æ¥å£ï¼ˆå¼€æ”¾å…è´¹ï¼‰_æ–‡å­—è½¬è¯­éŸ³api_å¶æ—æŸ“çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_42460461/article/details/115378875)

## å…¶ä»–

ä»˜è´¹ ä¸ä¸€å®šå¥½ï¼š
[ESP8266_è¯­éŸ³æ’­æŠ¥.rar_esp8266æ§åˆ¶_esp8266è¯­éŸ³æ’­æŠ¥_è¯­éŸ³_è¯­éŸ³æ’­æŠ¥_è¿œç¨‹è¯­éŸ³æ’­æŠ¥_esp8266è¯­éŸ³æ’­æŠ¥-ç½‘ç»œæ”»é˜²ä»£ç ç±»èµ„æº-CSDNæ–‡åº“](https://download.csdn.net/download/weixin_42665255/86116175?spm=1001.2101.3001.6650.10&utm_medium=distribute.pc_relevant.none-task-download-2%7Edefault%7EOPENSEARCH%7ERate-10-86116175-blog-125793124.235%5Ev29%5Epc_relevant_default_base3&depth_1-utm_source=distribute.pc_relevant.none-task-download-2%7Edefault%7EOPENSEARCH%7ERate-10-86116175-blog-125793124.235%5Ev29%5Epc_relevant_default_base3&utm_relevant_index=16)



è§†é¢‘ï¼š
[ESP8266åˆ¶ä½œè¿œç¨‹è¯­éŸ³æ’­æŠ¥æ–‡å­—æ˜¾ç¤ºåŠ©æ‰‹_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1t64y1v7zA/?vd_source=055c0f614d8dec2c3bf7aff0db5e54cb)


JQ8900ï¼š
[7ã€ESP8266å•çº¿æ§åˆ¶JQ8900è¯­éŸ³èŠ¯ç‰‡æ¨¡å—ä»‹ç»_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1PC4y1h7Fi/?vd_source=055c0f614d8dec2c3bf7aff0db5e54cb)




[Text To Speech - åœ¨çº¿æ–‡æœ¬è½¬è¯­éŸ³ (text-to-speech.cn)](https://www.text-to-speech.cn/)


---


# MPU-6050 è·Œå€’æ£€æµ‹é¢„æµ‹ ã€D1 D2ã€‘ D8
![](201903040009images.aasts/image-20230423211858737.png)

![](201903040009images.aasts/image-20230423213727557.png)
![](201903040009images.aasts/image-20230423221445469.png)




[(8æ¡æ¶ˆæ¯) esp8266è¯»å–MPU6050æ•°æ®_esp8266é©±åŠ¨mpu6050_Cãƒ¾Xçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_48254745/article/details/119842957)
![](201903040009images.aasts/image-20230408175232652.png)


```c
#include "Wire.h"
#include "I2Cdev.h"
#include "MPU6050.h"

MPU6050 mpu;
int16_t ax, ay, az;
int16_t gx, gy, gz;
//#define LED_PIN 13
//bool blinkState = false;

void setup() {
    Wire.begin();
    Serial.begin(115200);
    Serial.println("Initializing I2C devices...");
    mpu.initialize();
    Serial.println("Testing device connections...");
    Serial.println(mpu.testConnection() ? "MPU6050 connection successful" : "MPU6050 connection failed");
}

void loop() {
    mpu.getMotion6(&ax, &ay, &az, &gx, &gy, &gz);
    //accelgyro.getAcceleration(&ax, &ay, &az);
    //accelgyro.getRotation(&gx, &gy, &gz);

    Serial.print("a/g:\t");
    Serial.print(ax); Serial.print("\t");
    Serial.print(ay); Serial.print("\t");
    Serial.print(az); Serial.print("\t");
    Serial.print(gx); Serial.print("\t");
    Serial.print(gy); Serial.print("\t");
    Serial.println(gz);
    delay(1000); 
}

```

å¹³æ”¾æ£€æµ‹åˆ°çš„æ•°æ®
![](201903040009images.aasts/image-20230423224530073.png)




[Arduinoæ•™ç¨‹ï¼šMPU6050çš„æ•°æ®è·å–ã€åˆ†æä¸å¤„ç† (bbsmax.com)](https://www.bbsmax.com/A/o75Nyg0KJW/)

## æ•°æ®å¤„ç† å¯è§†åŒ–
[ã€MPU6050ã€‘åˆ©ç”¨processingå¯è§†åŒ– - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/88575987)

[ESP32ä¸Šæ‰‹ç¬”è®° | 05 - è·å–MPU6050æ•°æ®è¿›è¡Œå§¿æ€è§£ç®—å’Œå±•ç¤ºï¼ˆI2Cdev+MPU6050+Processingï¼‰_mpu6050å§¿æ€è§£ç®—æµç¨‹å›¾_Mculover666çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/Mculover666/article/details/123541279)

[Arduinoæé«˜ç¯‡18â€”MPU6050æ•°æ®3Då±•ç¤º_mpu6050ä¸‰ç»´å»ºæ¨¡_TonyIOTçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/TonyIOT/article/details/105111050)


ä»˜è´¹
[Arduino ESP32ç½‘é¡µåŒæ­¥æ›´æ–°MPU6050æ•°æ®æ¨¡å‹åŒ–æ˜¾ç¤º_perseverance52çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_42880082/article/details/122217969)
[Arduino ESP8266ç½‘é¡µåŒæ­¥æ›´æ–°MPU6050æ•°æ®æ¨¡å‹åŒ–æ˜¾ç¤º_esp8266 mpu6050_perseverance52çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_42880082/article/details/122222877?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7EPayColumn-1-122222877-blog-122217969.235%5Ev31%5Epc_relevant_default_base3&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7EPayColumn-1-122222877-blog-122217969.235%5Ev31%5Epc_relevant_default_base3&utm_relevant_index=1)

youtubeï¼šä¸Šé¢æ¬è¿çš„ [ESP32 Web Server MPU-6050 Accelerometer Gyroscope (3D object) | Random Nerd Tutorials](https://randomnerdtutorials.com/esp32-mpu-6050-web-server/)
MPU-6050èµ„æ–™é“¾æ¥: https://pan.baidu.com/s/1eXUSdd-VzORfq7b7KKzS-Q
æå–ç : wn94

é“¾æ¥ï¼šhttps://pan.baidu.com/s/1luGZySc8Tn_jULsKOHpAcg 
æå–ç ï¼š5dsz



```html
å¯ä»¥ç”»å‡ºæ¥å›¾å½¢

<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r76/three.min.js"></script>
<style>
  body { margin: 0; }
  canvas { width: 100%; height: 100% }
</style>
</head>
<body>
<script>
  // Our Javascript will go here.
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

  var renderer = new THREE.WebGLRenderer();
  renderer.setSize( window.innerWidth, window.innerHeight );
  document.body.appendChild( renderer.domElement );

  var geometry = new THREE.BoxGeometry( 1, 1, 1 );
  var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
  var cube = new THREE.Mesh( geometry, material );
  scene.add( cube );

  camera.position.z = 5;

  var animate = function () {
    requestAnimationFrame( animate );

    cube.rotation.x += 0.01;
    cube.rotation.y += 0.01;

    renderer.render( scene, camera );
  };

  animate();
</script>

</body>
</html>
```

æ ¹æ®MPU6050é‡‡é›†åˆ°çš„æ•°æ®ç”»3Då›¾å±•ç°æ‰€å¤„çš„å§¿æ€ï¼Œå†™htmlä»£ç å¹¶å†™æ˜å…­ä¸ªæ•°æ®åŠ é€Ÿåº¦å’Œè§’é€Ÿåº¦å¡«å……åœ¨å“ªé‡Œ


```html
å¯ä»¥ç”»å‡ºæ¥å›¾å½¢  å®Œå–„

<!DOCTYPE html>
<html>
<head>
	<title>3Då›¾å±•ç¤ºæ‰€å¤„å§¿æ€</title>
</head>
<body>
	<script type="text/javascript" src="http://cdn.staticfile.org/three.js/r68/three.min.js"></script>
	<script type="text/javascript">
		// åˆ›å»ºåœºæ™¯
		var scene = new THREE.Scene();

		// åˆ›å»ºç›¸æœº
		var camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 1000);

		// åˆ›å»ºæ¸²æŸ“å™¨
		var renderer = new THREE.WebGLRenderer();
		renderer.setClearColor(new THREE.Color(0xEEEEEE));
		renderer.setSize(window.innerWidth, window.innerHeight);
		renderer.shadowMapEnabled = true;

		// åˆ›å»ºåæ ‡è½´
		var axes = new THREE.AxisHelper(20);
		scene.add(axes);

		// åˆ›å»ºç¯å…‰
		var spotLight = new THREE.SpotLight(0xffffff);
		spotLight.position.set(-40, 60, -10);
		scene.add(spotLight);

		// åˆ›å»ºå‡ ä½•ä½“
		var cubeGeometry = new THREE.CubeGeometry(10, 10, 10);
		var cubeMaterial = new THREE.MeshLambertMaterial({color: 0xff0000});
		var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
		cube.position.x = 0;
		cube.position.y = 0;
		cube.position.z = 0;
		cube.castShadow = true;
		scene.add(cube);

		// è®¾ç½®ç›¸æœºä½ç½®
		camera.position.x = 30;
		camera.position.y = 30;
		camera.position.z = 30;
		camera.lookAt(scene.position);

		// æ·»åŠ åˆ°bodyä¸­
		document.body.appendChild(renderer.domElement);

		// åŠ å…¥åŠ é€Ÿåº¦å’Œè§’é€Ÿåº¦
		var xAccel = 0; // åŠ é€Ÿåº¦Xè½´
		var yAccel = 0; // åŠ é€Ÿåº¦Yè½´
		var zAccel = 0; // åŠ é€Ÿåº¦Zè½´
		var xAngle = 0; // è§’é€Ÿåº¦Xè½´
		var yAngle = 0; // è§’é€Ÿåº¦Yè½´
		var zAngle = 0; // è§’é€Ÿåº¦Zè½´

		// æ¸²æŸ“
		function render() {
			// æ—‹è½¬
			cube.rotation.x += xAccel;
			cube.rotation.y += yAccel;
			cube.rotation.z += zAccel;
			// ç§»åŠ¨
			cube.position.x += xAngle;
			cube.position.y += yAngle;
			cube.position.z += zAngle;

			requestAnimationFrame(render);
			renderer.render(scene, camera);
		}
		render();
	</script>
</body>
</html>
```


## JSONæ ¼å¼æ”¶å‘
![](201903040009images.aasts/image-20230424232552455.png)

[(1æ¡æ¶ˆæ¯) é‡‡ç”¨ ArduinoJson åº“å¯¹æ•°æ®è¿›è¡ŒJSONåŒ–å¤„ç†_arduinojsonåº“_æ˜Ÿç¾½ç©ºé—´çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_25662827/article/details/119971047)

### å°†æ•°æ®å°è£…ä¸ºJSONæ•°æ®æ ¼å¼çš„Stringç±»å‹å‘é€
```c
#include <ArduinoJson.h>
 
void setup() {
 
    Serial.begin(9600);
    
    DynamicJsonDocument doc(1024);
    JsonObject obj = doc.as<JsonObject>();
 
    // å°†æ•°æ®é”®å€¼å¯¹èµ‹å€¼
    obj["speed"] = 10.1;
    obj["kp"] = 5.2;
    obj["ki"] = 0.1;
    obj["kd"] = 0.01;
  
    String output;
    serializeJson(doc, output);
 
    Serial.println(output);
}
 
void loop() {
  // not used in this example
}
```




# ESP-cam å›¾ä¼   Opencv/python + Micro-RTSP/arduino

pythonä¸­å¯ä»¥ç”¨Opencvæ¥æ”¶ RTSP æ ¼å¼çš„è§†é¢‘ ä¿å­˜åœ¨æ–‡ä»¶ä¸­
- å¦‚ä½•è®©ESP32-CAMå¼„å‡ºRTSP æ ¼å¼çš„è§†é¢‘
- pythoné‚£è¾¹å¦‚ä½•åˆ©ç”¨Opencvåº“è¿›è¡Œæ“ä½œ


## ESP32-camæµ‹è¯• - web
æˆ‘ä¹°çš„å¸¦åº•ç‰ˆçš„ çƒ§å½•çš„æ—¶å€™ä¸ç”¨çŸ­æ¥åœ°ï¼š
[ESP32_CAMä½¿ç”¨æ³¨æ„äº‹é¡¹ï¼ˆå°ç™½ä¸Šæ‰‹ï¼‰_esp_camera_init_only å°ç½—çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_43960772/article/details/120197656)

![](201903040009images.aasts/image-20230419190003843.png)


![](201903040009images.aasts/image-20230419180651728.png)

![](201903040009images.aasts/image-20230419182203848.png)

![](201903040009images.aasts/image-20230419182218539.png)

ä¹°ä¸‹é¢å›¾ä¸Šçš„ç”µæ±  ç”µæº é¢åŒ…æ¿ç”µæº #å¾…åŠ
![](201903040009images.aasts/image-20230419183244418.png)



## Micro-RTSP/ ESP32-CAM
[Micro-RTSP - æœç´¢ (bing.com)](https://www.bing.com/search?q=Micro-RTSP&aqs=edge..69i57j69i61&FORM=ANCMS9&PC=U531&mkt=zh-CN)

VSå¼€å‘å·¥å…·ç¯å¢ƒä¸‹ï¼š
[(1æ¡æ¶ˆæ¯) åŸºäºå¼€æºçš„Micro-RTSPï¼Œä½¿ç”¨VLCå’Œffmpegæ‹‰æµæ’­æ”¾RTSPè§†é¢‘æµï¼Œæœ¬ä¾‹ä½¿ç”¨å®‰ä¿¡å¯ESP32 CAMè¿›è¡Œæ¨æµã€‚_ffmpegæ’­æ”¾rtspæµ_katerdaisyçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/katerdaisy/article/details/128301045)

Arduinoå¼€å‘å·¥å…·ä¸‹ï¼šğŸ‘
[(1æ¡æ¶ˆæ¯) åŸºäºESP32-CAMçš„RSTPåè®®ç½‘ç»œæ‘„åƒå¤´_esp32 rtsp_è¥¿å¤©å–ç»çš„ç†ŠçŒ«çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/xitianqu/article/details/128337872)



[å¦‚ä½•ä½¿ç”¨OpenCVåœ¨Pythonä¸­è®¿é—®IPæ‘„åƒå¤´ - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/developer/article/1697128)

### ESP32-CAMçš„RTSPæµ‹è¯•
RTSPä¼ è¾“çš„æ–¹å¼å»¶è¿Ÿè¾ƒå¤§ã€‚ä¸²å£è¾“å‡ºçš„ä¸Šé¢çš„IPåœ°å€ã€‚


```
rtsp://192.168.146.253:8554/mjpeg/2
rtsp://192.168.177.253:8554/mjpeg/2
```
![](201903040009images.aasts/image-20230419201513274.png)


![](201903040009images.aasts/image-20230419200818691.png)

RTSPè§†é¢‘æµï¼š
![](201903040009images.aasts/image-20230420155018337.png)

![](201903040009images.aasts/image-20230420165521778.png)



![](201903040009images.aasts/image-20230420155034778.png)


## Opencv:å¦‚ä½•è°ƒç”¨IPæ‘„åƒå¤´
[(1æ¡æ¶ˆæ¯) Opencv:å¦‚ä½•è°ƒç”¨IPæ‘„åƒå¤´_opencvè°ƒç”¨ipæ‘„åƒå¤´_è°å·äº†æˆ‘çš„é…’çªçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_35896136/article/details/106789377)



### Opencv å›¾åƒçš„ä¿å­˜
[(1æ¡æ¶ˆæ¯) ã€OpenCV ä¾‹ç¨‹300ç¯‡ã€‘02. å›¾åƒçš„ä¿å­˜ï¼ˆcv2.imwriteï¼‰_youcans_çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/youcans/article/details/121169014)

![](201903040009images.aasts/image-20230419214105428.png)


```python
# è°ƒç”¨ESP32-CAMçš„RTSPè§†é¢‘æµ ä¿å­˜å½“å‰å¸§åˆ°æŒ‡å®šæ–‡ä»¶ä½ç½® -- ç”¨æ¥ä¼˜åŒ–æŠ“å–çª—å£ ä½†æ˜¯è¿™æ ·æ¯”è¾ƒæ…¢ 
# 2023.04.19 created by å¾æ¢¦æ˜Š

# https://blog.csdn.net/qq_35896136/article/details/106789377

# coding:utf-8
import cv2
url = 'rtsp://192.168.146.253:8554/mjpeg/2'
cap = cv2.VideoCapture(url)
flag = cap.isOpened()
print(flag)

# fps = cap.get(cv2.CAP_PROP_FPS)
# width = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))
# height = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))
# print(fps,width,height)

(flag,frame) = cap.read()   #è¯»å–æ¯ä¸€å¸§ï¼Œflagè¡¨ç¤ºæ˜¯å¦è¯»å–æˆåŠŸï¼Œframeä¸ºå›¾ç‰‡å†…å®¹ã€‚
fileName = "D:\Desktop\IOT_SoftWare\screenshot1.jpg"
# print(fileName)
if flag == True:
    cv2.imwrite(fileName,frame,[cv2.IMWRITE_JPEG_QUALITY,100])

cap.release() # é‡Šæ”¾æ‘„åƒå¤´
cv2.destroyAllWindows()# é‡Šæ”¾å¹¶é”€æ¯çª—å£
```

## RTSPæµåµŒå…¥html - VLCå®¢æˆ·ç«¯ç­‰

[RTSPè§†é¢‘æµåµŒå…¥h5é¡µé¢_h5 rtsp_bugåˆ«æ‰¾æˆ‘çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_43575792/article/details/120005756)

[è½»æ¾å®ç°åœ¨webé¡µé¢ä¸­ç›´æ¥æ’­æ”¾rtspè§†é¢‘æµ_web rtsp_Never Yuçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/csdn_yudong/article/details/124124137)

### å¦‚ä½•æŸ¥çœ‹è¿æ¥åˆ°æ‰‹æœºçƒ­ç‚¹çš„ipåœ°å€ apk
[å¦‚ä½•æŸ¥çœ‹è¿æ¥åˆ°æ‰‹æœºçƒ­ç‚¹çš„ipåœ°å€ - fireflys - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/fireflys/p/10600190.html)



## æ‹“å±•
###  ä½¿ç”¨opencvè·å–ESP32-CAMè§†é¢‘æµï¼Œå¹¶å°†å›¾åƒä¿å­˜è‡³TFå¡

[(1æ¡æ¶ˆæ¯) ã€ESP32-CAMã€‘ä½¿ç”¨opencvè·å–ESP32-CAMè§†é¢‘æµï¼Œå¹¶å°†å›¾åƒä¿å­˜è‡³TFå¡ï¼ˆä¸€ï¼‰_esp32 opencv_ShemuelHeçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/ShemuelHe/article/details/121365730)










---

[åŸºäºESP32CAMçš„ç‰©è”ç½‘ç›¸æœºç³»ç»Ÿâ‘§ï¼ˆç”¨åŸç”ŸJavaWebå®ç°åŒæ‘„åƒå¤´WIFIå›¾ä¼ ï¼‰_serial.setdebugoutput_daodanjishuiçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/niruxi0401/article/details/124547419?ops_request_misc=&request_id=&biz_id=&utm_medium=distribute.pc_search_result.none-task-blog-2~all~koosearch~default-2-124547419-null-null.142^v83^koosearch_v1,239^v2^insert_chatgpt&utm_term=%E5%9F%BA%E4%BA%8EESP32CAM%E7%9A%84%E7%89%A9%E8%81%94%E7%BD%91&spm=1018.2226.3001.4187)


[æœ€ç®€å•DIYåŸºäºESP32CAMçš„ç‰©è”ç½‘ç›¸æœºç³»ç»Ÿâ‘ ï¼ˆç”¨ç½‘é¡µå®ç°æ‹ç…§å›¾ä¼ ï¼‰_esp32 ov7670_daodanjishuiçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/niruxi0401/article/details/119784185)
#  **********************

# ğŸ‘å¼•è„šå®‰æ’ğŸ‘
`ä»ä¼ æ„Ÿå™¨åˆ°æœåŠ¡å™¨`
è¶…å£°æ³¢ï¼šD1 D2 è¶…å£°æ³¢ D2è¾“å…¥ D1è¾“å‡º

```
// è¶…å£°æ³¢ å››ä¸ªå¼•è„š D2 D1 GND 3V3
// define ultrasonic signal receiver pin  ECHO to D2  GPIO4
int ECHOPin = D2;  
// define ultrasonic signal transmitter pin  TRIG to D1  GPIO5
int TRIGPin = D1;  
```

æ°´ä½ï¼šA0 æ°´ä½ ä¸€ä¸ªæ¨¡æ‹Ÿå£
`ä¸¤ä¸ªæœ¬åœ° æŒ¯åŠ¨å™¨`
éœ‡åŠ¨è¶…å£°æ³¢ï¼šD3  è¾“å‡º è¶…å£°æ³¢è¿‡è¿‘é¢„è­¦éœ‡åŠ¨
éœ‡åŠ¨æ°´ä½ï¼šD4  è¾“å‡º æ°´ä½è¿‡é«˜é¢„è­¦éœ‡åŠ¨
`ä»æœåŠ¡å™¨åˆ°ç»ˆç«¯`
D6 è¾“å‡º LEDç‚¹äº®æ¨¡æ‹Ÿè¾“å‡ºæŒ‡ä»¤ååº”

D5æŒ‰é”®å‘é€é‚®ä»¶

---
`iot_bottom`


GPSã€è½¯ä¸²å£ã€‘ï¼š D1 D2/ D6 D7ï¼ˆä¸ä¸€å®šå…¶ä»–çš„ä¸è¡Œ å¾…æµ‹è¯•ï¼‰
-   è¿˜å¯ä»¥ï¼šå°†GPSçš„TXå¼•è„šè¿æ¥åˆ°nodemcuçš„D6å¼•è„šï¼ˆè“çº¿ï¼‰ï¼Œå¹¶å°†GPSçš„RXå¼•è„šè¿æ¥åˆ°nodemcuçš„D7å¼•è„šï¼ˆç™½çº¿ï¼‰è¿™äº›æ˜¯ä¸²è¡Œé€šä¿¡å¼•è„šã€‚æ‚¨å¯ä»¥é€‰æ‹©ä»»ä½•æ‚¨å–œæ¬¢çš„æ•°æ®å¼•è„šï¼Œä½†æ‚¨è¿˜å¿…é¡»åœ¨ä»£ç ä¸­è¿›è¡Œå¿…è¦çš„æ›´æ”¹ã€‚


å…‰æ•ï¼šA0å£ 
å…‰æ•LEDï¼šç”¨æ¿å­ä¸Šçš„ ç”¨D3
D5æŒ‰é”® è¯·æ±‚äººè„¸è¯†åˆ«

- MPU6050 å¾…å®š æ²¡æœ‰å¼•è„šç”¨äº† D1 D2 D8ï¼ˆD1 D2å¥½åƒæŒºå›ºå®šï¼‰
  ![](201903040009images.aasts/image-20230424232755049.png)



è¯­éŸ³æ’­æŠ¥
RX TX  ç”µ åœ°

> A0ä½œä¸ºæ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼Œä¸èƒ½ä½œä¸ºå…¶ä»–ç”¨é€”ï¼ŒA0å¼•è„šå¦‚æœè¢«é¢‘ç¹è°ƒç”¨ä¼šå½±å“æ¨¡å—æ­£å¸¸å·¥ä½œï¼Œè°ƒç”¨é¢‘ç‡è¦æ±‚é—´éš™æ—¶é—´å¤§äº5æ¯«ç§’ä»¥ä¿è¯æ¨¡å—å·¥ä½œæ­£å¸¸ï¼›


<span style="background:#ff4d4f">ã€æ°´ä½å’Œå…‰æ•ä¸èƒ½ä¸€èµ· éƒ½å A0å£ã€‘</span>


---

**GPIO0ï¼ˆD3ï¼‰**:ä½œä¸ºè¾“å‡ºæ—¶æ˜¯æ¨èä½œä¸ºè¾“å‡ºå¼•è„šçš„ã€‚

**GPIO2ï¼ˆD4ï¼‰**:ä½œä¸ºè¾“å‡ºæ—¶æ˜¯æ¨èä½œä¸ºè¾“å‡ºå¼•è„šçš„ã€‚

**GPIO0/2å¼•è„šå°ç»“ï¼šè·Ÿå¯åŠ¨ç›¸å…³ï¼Œå¼€å‘æ¿/æ¨¡å—å¯åŠ¨æ—¶éƒ½ä¼šè¢«ç½®é«˜ï¼Œå¦‚æœè¢«æ‹‰ä½åˆ™æ— æ³•å¯åŠ¨ã€‚æ¨èé€‚åˆä½œä¸ºè¾“å‡ºå¼•è„šã€‚**

---

**GPIO1ï¼ˆTXï¼‰**:UARTä¸²å£é€šè®¯çš„æ¥æ”¶å¼•è„šTXï¼Œèƒ½ä½œä¸ºè¾“å‡ºå¼•è„šä½†ä¸å¤§æ¨èä½œä¸ºè¾“å‡ºå¼•è„šä½¿ç”¨ï¼Œæ¨¡å—/å¼€å‘æ¿å¯åŠ¨çš„æ—¶å€™ä¼šè¢«ç½®é«˜ï¼Œè¢«æ‹‰ä½æ—¶æ¨¡å—/å¼€å‘æ¿æ— æ³•å¯åŠ¨ï¼›è°ƒè¯•è¾“å‡ºå¼•è„šï¼›

**GPIO3ï¼ˆRXï¼‰**:UARTä¸²å£é€šè®¯çš„æ¥æ”¶å¼•è„šRXï¼Œèƒ½ä½œä¸ºè¾“å‡ºå¼•è„šä½†ä¸å¤§æ¨èä½œä¸ºè¾“å‡ºå¼•è„šä½¿ç”¨ï¼Œæ¨¡å—/å¼€å‘æ¿å¯åŠ¨çš„æ—¶å€™ä¼šè¢«ç½®é«˜ï¼›

**GPIO1/3å¼•è„šå°ç»“ï¼šUARTä¸²å£é€šè®¯çš„æ”¶å‘å¼•è„šï¼Œå¼€å‘æ¿/æ¨¡å—å¯åŠ¨æ—¶éƒ½ä¼šè¢«ç½®é«˜ï¼Œè¢«å ç”¨å’Œé”™è¯¯æ“ä½œçš„æ‹‰ä½ä¼šå½±å“å¯åŠ¨ã€‚æ¨èä½œä¸ºä¸²å£UARTé€šè®¯å¼•è„šè€Œä¸ä½œä»–ç”¨ã€‚**

---

GPIO4ï¼ˆD2ï¼‰:ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šéƒ½é€‚åˆï¼Œ

GPIO5ï¼ˆD1ï¼‰:ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šéƒ½é€‚åˆï¼Œ

**GPIO 6-11**Â æœªåœ¨æ­¤å›¾ä¸­è¢«å¼•å‡ºï¼Œå› ä¸ºå®ƒä»¬ç”¨äºè¿æ¥å¤§å¤šæ•°æ¨¡å—ä¸Šçš„é—ªå­˜èŠ¯ç‰‡ã€‚å¦‚æœå°†è¿™äº›å¼•è„šç”¨ä½œ IO ä½¿ç”¨å°†ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚

**GPIO6~11å¼•è„šå°ç»“ï¼šè¿™äº›å¼•è„šæ˜¯æ¿è½½çš„å­˜å‚¨æ“ä½œå¼•è„šã€‚é€šå¸¸å°±ç›´æ¥éƒ½æ²¡ç»™å¼•å‡ºæ¥ï¼Œå»ºè®®æ…é‡ä½¿ç”¨æˆ–è€…å¹²è„†æ— è§†ã€‚

  ---
  

**GPIO12ï¼ˆD6ï¼‰:åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ•°æ®å¼•è„šï¼ˆMISOï¼‰ï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO13ï¼ˆD7ï¼‰:åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ•°æ®å¼•è„šï¼ˆMISOï¼‰ï¼›

**GPIO14ï¼ˆD5ï¼‰:åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ—¶é’Ÿå¼•è„šï¼ˆSCLKï¼‰ï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO15ï¼ˆD8ï¼‰:å¯ä»¥ä½†ä¸æ¨èä½œä¸ºè¾“å‡ºå¼•è„šï¼Œ

**GPIO12~15å¼•è„šå°ç»“ï¼šSPIå¼•è„šï¼Œé™¤äº†15å¼•è„šä½œä¸ºç‰‡é€‰å¼•è„šä¸èƒ½ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šï¼Œå…¶ä»–å¼•è„šéƒ½å¯ä½œä¸ºè¾“å…¥è¾“å‡ºï¼Œ12ã€14ã€15å¼•è„šæ”¯æŒPWMè¾“å‡ºï¼›

---


GPIO16ï¼ˆD0ï¼‰:ä½œä¸ºè¾“å…¥æ—¶æ— ä¸­æ–­åŠŸèƒ½ï¼Œä½œä¸ºè¾“å‡ºçš„æ—¶å€™ä¸æ”¯æŒI2Cï¼ŒPWMåŠŸèƒ½ï¼ŒåŒæ—¶åœ¨å¯åŠ¨çš„æ—¶å€™ä¹Ÿä¼šè¢«ç½®é«˜ï¼Œç”¨ä½œä»ç¡çœ æ¨¡å¼å”¤é†’çš„åŠŸèƒ½å¼•è„šï¼›ä¸æ¨èä½œä»–ç”¨ï¼›

A0ï¼šæ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼Œä¸èƒ½ä½œä¸ºå…¶ä»–ç”¨é€”ï¼ŒA0å¼•è„šå¦‚æœè¢«é¢‘ç¹è°ƒç”¨ä¼šå½±å“æ¨¡å—æ­£å¸¸å·¥ä½œï¼Œè°ƒç”¨é¢‘ç‡è¦æ±‚é—´éš™æ—¶é—´å¤§äº5æ¯«ç§’ä»¥ä¿è¯æ¨¡å—å·¥ä½œæ­£å¸¸ï¼›

å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯A0å¼•è„šæ¨¡å—é»˜è®¤æƒ…å†µä¸‹è¯»å–ç”µå‹èŒƒå›´åªæœ‰0~1Vï¼Œæœ‰äº›å¼€å‘æ¿ä¼šå¢åŠ å¤–å›´åˆ†å‹ç”µè·¯ï¼Œå»ºè®®åœ¨ä½¿ç”¨å‰åšä¸€ä¸ªç®€å•çš„è¯»å–æµ‹è¯•ï¼Œå¦‚ï¼šç»™ä¸ª0.5Vçš„ç”µå‹åˆ°A0è„šï¼Œå¦‚æœè¯»å–å€¼æ˜¯512ï¼Œåˆ™è¯´æ˜A0è„šå¤–å›´æ— å¤–åŠ çš„åˆ†å‹ç”µè·¯ï¼Œå…è®¸çš„æ¨¡æ‹Ÿé‡è¾“å…¥èŒƒå›´å°±æ˜¯0~1Vã€‚

**åœ¨Arduino IDEç¯å¢ƒä¸­ï¼Œç›´æ¥å†™å¼•è„šæ•°å­—çš„ä»£è¡¨çš„æ˜¯GPIOå¼•è„šç¼–å·è€ŒéDå¼•è„šç¼–å·ï¼›**

---

# ESP8266 12-E èŠ‚ç‚¹å¥—ä»¶
[NodeMCU ç®€ä»‹ â€“ äººäººéƒ½æ‡‚ç‰©è”ç½‘ (getiot.tech)](https://getiot.tech/zh/nodemcu/nodemcu-intro)
#esp8266nodemcu
[ESP8266 GPIO çš„æŒ‡å—ï¼šå¼•è„šå›¾ - å“”å“©å“”å“© (bilibili.com)](https://www.bilibili.com/read/cv14229875)
![](201903040009images.aasts/image-20230407221005610.png)

![](201903040009images.aasts/Screenshot_2021-05-21-22-15-49-656_tv.danmaku.bili.jpg)

![](201903040009images.aasts/image-20230410155008251.png)


## å¼•è„šåŠŸèƒ½
[ESP8266å¼•è„šä½¿ç”¨æ³¨æ„äº‹é¡¹å’Œæ¨è - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/433461900)


```
**GPIO0ï¼ˆD3ï¼‰**:è¿æ¥åˆ°NODEMCUä¸ºä»£è¡¨çš„FLASHæŒ‰é”®å¼€å…³ä¸Šï¼Œä½œä¸ºè¾“å…¥æ—¶ä¸Šæ‹‰ï¼Œä½œä¸ºè¾“å‡ºæ—¶æ˜¯æ¨èä½œä¸ºè¾“å‡ºå¼•è„šçš„ã€‚å¦‚æœå¼•è„šè¢«æ‹‰ä½åˆ™æ— æ³•å¯åŠ¨ï¼›

**GPIO2ï¼ˆD4ï¼‰**:ä½œä¸ºè¾“å…¥æ—¶ä¸Šæ‹‰ï¼Œä½œä¸ºè¾“å‡ºæ—¶æ˜¯æ¨èä½œä¸ºè¾“å‡ºå¼•è„šçš„ã€‚æ¨¡å—/å¼€å‘æ¿å¯åŠ¨çš„æ—¶å€™ä¼šè¢«ç½®é«˜ï¼Œè¿æ¥åˆ°æ¿è½½LEDç¯ä¸Šï¼Œè·ŸGPIO0å¼•è„šä¸€æ ·ï¼Œå¼•è„šæ‹‰ä½çš„æ—¶å€™ï¼Œæ¨¡å—/å¼€å‘æ¿æ— æ³•å¯åŠ¨ï¼›

**GPIO0/2å¼•è„šå°ç»“ï¼šè·Ÿå¯åŠ¨ç›¸å…³ï¼Œå¼€å‘æ¿/æ¨¡å—å¯åŠ¨æ—¶éƒ½ä¼šè¢«ç½®é«˜ï¼Œå¦‚æœè¢«æ‹‰ä½åˆ™æ— æ³•å¯åŠ¨ã€‚æ¨èé€‚åˆä½œä¸ºè¾“å‡ºå¼•è„šã€‚**

  

**GPIO1ï¼ˆTXï¼‰**:UARTä¸²å£é€šè®¯çš„æ¥æ”¶å¼•è„šTXï¼Œèƒ½ä½œä¸ºè¾“å‡ºå¼•è„šä½†ä¸å¤§æ¨èä½œä¸ºè¾“å‡ºå¼•è„šä½¿ç”¨ï¼Œæ¨¡å—/å¼€å‘æ¿å¯åŠ¨çš„æ—¶å€™ä¼šè¢«ç½®é«˜ï¼Œè¢«æ‹‰ä½æ—¶æ¨¡å—/å¼€å‘æ¿æ— æ³•å¯åŠ¨ï¼›è°ƒè¯•è¾“å‡ºå¼•è„šï¼›

**GPIO3ï¼ˆRXï¼‰**:UARTä¸²å£é€šè®¯çš„æ¥æ”¶å¼•è„šRXï¼Œèƒ½ä½œä¸ºè¾“å‡ºå¼•è„šä½†ä¸å¤§æ¨èä½œä¸ºè¾“å‡ºå¼•è„šä½¿ç”¨ï¼Œæ¨¡å—/å¼€å‘æ¿å¯åŠ¨çš„æ—¶å€™ä¼šè¢«ç½®é«˜ï¼›

**GPIO1/3å¼•è„šå°ç»“ï¼šUARTä¸²å£é€šè®¯çš„æ”¶å‘å¼•è„šï¼Œå¼€å‘æ¿/æ¨¡å—å¯åŠ¨æ—¶éƒ½ä¼šè¢«ç½®é«˜ï¼Œè¢«å ç”¨å’Œé”™è¯¯æ“ä½œçš„æ‹‰ä½ä¼šå½±å“å¯åŠ¨ã€‚æ¨èä½œä¸ºä¸²å£UARTé€šè®¯å¼•è„šè€Œä¸ä½œä»–ç”¨ã€‚**

**GPIO4ï¼ˆD2ï¼‰:**ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šéƒ½é€‚åˆï¼Œé€šå¸¸è¢«ç”¨ä½œI2Cçš„æ•°æ®å¼•è„šï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO5ï¼ˆD1ï¼‰:**ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šéƒ½é€‚åˆï¼Œé€šå¸¸è¢«ç”¨ä½œI2Cçš„æ—¶é’Ÿå¼•è„šï¼›

**GPIO4/5å¼•è„šå°ç»“ï¼šI2Cçš„æ—¶é’Ÿå’Œæ•°æ®å¼•è„šï¼ŒåŒæ—¶ä¹Ÿé€‚åˆåˆ«ä½œä»–ç”¨ï¼Œç”¨ä½œè¾“å…¥è¾“å‡ºå¼•è„šï¼ŒåŒæ—¶4å·è„šæ”¯æŒPWMè¾“å‡ºï¼›**

**GPIO6-11**Â æœªåœ¨æ­¤å›¾ä¸­è¢«å¼•å‡ºï¼Œå› ä¸ºå®ƒä»¬ç”¨äºè¿æ¥å¤§å¤šæ•°æ¨¡å—ä¸Šçš„é—ªå­˜èŠ¯ç‰‡ã€‚å¦‚æœå°†è¿™äº›å¼•è„šç”¨ä½œ IO ä½¿ç”¨å°†ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæŸäº›å¼€å‘æ¿å’Œæ¨¡å—ï¼ˆESP-12EDã€NodeMCU 1.0ï¼‰ä¹Ÿä¼šæ–­å¼€å¼•è„š 9 å’Œ 11ã€‚å¦‚æœçƒ§å½•èŠ¯ç‰‡åœ¨ DIO æ¨¡å¼ä¸‹å·¥ä½œï¼ˆè€Œä¸æ˜¯ QIOï¼Œè¿™æ˜¯é»˜è®¤æ¨¡å¼ï¼‰ï¼Œåˆ™è¿™äº›å¯ä»¥ç”¨ä½œ IOã€‚

**GPIO6~11å¼•è„šå°ç»“ï¼šè¿™äº›å¼•è„šæ˜¯æ¿è½½çš„å­˜å‚¨æ“ä½œå¼•è„šã€‚é€šå¸¸å°±ç›´æ¥éƒ½æ²¡ç»™å¼•å‡ºæ¥ï¼Œæƒ³ç”¨ä¹Ÿç”¨ä¸åˆ°ï¼Œæ— éœ€å…³å¿ƒå°±åˆ«æƒ³äº†å§ã€‚åœ¨NODEMCUä¸Šï¼Œè¿™äº›å¼•è„šå®é™…ä¸Šæ˜¯è¢«å¼•å‡ºçš„ï¼Œå¯¹åº”å¼€å‘æ¿S3,S2,S1,SC,S0,SKã€‚å»ºè®®æ…é‡ä½¿ç”¨æˆ–è€…å¹²è„†æ— è§†ã€‚**

  

**GPIO12ï¼ˆD6ï¼‰:**åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ•°æ®å¼•è„šï¼ˆMISOï¼‰ï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO13ï¼ˆD7ï¼‰:**åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ•°æ®å¼•è„šï¼ˆMISOï¼‰ï¼›

**GPIO14ï¼ˆD5ï¼‰:**åšè¾“å…¥è¾“å‡ºå¼•è„šéƒ½åˆé€‚ï¼ŒåšSPIé€šè®¯æ—¶é’Ÿå¼•è„šï¼ˆSCLKï¼‰ï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO15ï¼ˆD8ï¼‰:**åšè¾“å…¥æ—¶è¢«æ‹‰ä½ï¼Œå¯ä»¥ä½†ä¸æ¨èä½œä¸ºè¾“å‡ºå¼•è„šï¼ŒSPIé€šè®¯åŠŸèƒ½é‡Œçš„ç‰‡é€‰å¼•è„šï¼ˆCSï¼‰ï¼ŒåŒæ—¶å¼•è„šè¿˜æ”¯æŒPWMè¾“å‡ºï¼›

**GPIO12~15å¼•è„šå°ç»“ï¼šSPIå¼•è„šï¼Œé™¤äº†15å¼•è„šä½œä¸ºç‰‡é€‰å¼•è„šä¸èƒ½ä½œä¸ºè¾“å…¥è¾“å‡ºå¼•è„šï¼Œå…¶ä»–å¼•è„šéƒ½å¯ä½œä¸ºè¾“å…¥è¾“å‡ºï¼Œ12ã€14ã€15å¼•è„šæ”¯æŒPWMè¾“å‡ºï¼›**

**GPIO16ï¼ˆD0ï¼‰:**ä½œä¸ºè¾“å…¥æ—¶æ— ä¸­æ–­åŠŸèƒ½ï¼Œä½œä¸ºè¾“å‡ºçš„æ—¶å€™ä¸æ”¯æŒI2Cï¼ŒPWMåŠŸèƒ½ï¼ŒåŒæ—¶åœ¨å¯åŠ¨çš„æ—¶å€™ä¹Ÿä¼šè¢«ç½®é«˜ï¼Œç”¨ä½œä»ç¡çœ æ¨¡å¼å”¤é†’çš„åŠŸèƒ½å¼•è„šï¼›ä¸æ¨èä½œä»–ç”¨ï¼›

**A0:**æ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼Œä¸èƒ½ä½œä¸ºå…¶ä»–ç”¨é€”ï¼ŒA0å¼•è„šå¦‚æœè¢«é¢‘ç¹è°ƒç”¨ä¼šå½±å“æ¨¡å—æ­£å¸¸å·¥ä½œï¼Œè°ƒç”¨é¢‘ç‡è¦æ±‚é—´éš™æ—¶é—´å¤§äº5æ¯«ç§’ä»¥ä¿è¯æ¨¡å—å·¥ä½œæ­£å¸¸ï¼›

å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯A0å¼•è„šæ¨¡å—é»˜è®¤æƒ…å†µä¸‹è¯»å–ç”µå‹èŒƒå›´åªæœ‰0~1Vï¼Œæœ‰äº›å¼€å‘æ¿ä¼šå¢åŠ å¤–å›´åˆ†å‹ç”µè·¯ï¼Œå»ºè®®åœ¨ä½¿ç”¨å‰åšä¸€ä¸ªç®€å•çš„è¯»å–æµ‹è¯•ï¼Œå¦‚ï¼šç»™ä¸ª0.5Vçš„ç”µå‹åˆ°A0è„šï¼Œå¦‚æœè¯»å–å€¼æ˜¯512ï¼Œåˆ™è¯´æ˜A0è„šå¤–å›´æ— å¤–åŠ çš„åˆ†å‹ç”µè·¯ï¼Œå…è®¸çš„æ¨¡æ‹Ÿé‡è¾“å…¥èŒƒå›´å°±æ˜¯0~1Vã€‚

**åœ¨Arduino IDEç¯å¢ƒä¸­ï¼Œç›´æ¥å†™å¼•è„šæ•°å­—çš„ä»£è¡¨çš„æ˜¯GPIOå¼•è„šç¼–å·è€ŒéDå¼•è„šç¼–å·ï¼›**
```




## å„ç§åº“ç¤ºä¾‹ ğŸ‘ ä¸»è¦å‡½æ•° MQTT
[æ·±å…¥å­¦ä¹ Arduino PubSubClient MQTTåº“_å•ç‰‡æœºèœé¸Ÿå“¥çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/dpjcn1990/article/details/92831686)


## mqtt-8266æ¡ˆä¾‹
**æ¡ˆä¾‹è¯´æ˜**ï¼š

-   è¿æ¥ä¸Šä¸€ä¸ªMQTTæœåŠ¡å™¨ï¼Œæ¯2ç§’å‘å¸ƒä¸€æ¬¡"hello world"æ¶ˆæ¯åˆ°ä¸»é¢˜â€œoutTopicâ€
-   å®¢æˆ·ç«¯ç›‘å¬ä¸»é¢˜â€œinTopicâ€ï¼Œå¹¶åˆ¤æ–­è´Ÿè½½å†…å®¹æ¥æ§åˆ¶ç¯äº®ç­


```
#include <ESP8266WiFi.h>
#include <PubSubClient.h>

// Update these with values suitable for your network.

const char* ssid = "........";//wifiè´¦å·
const char* password = "........";//wifiç§˜å¯†
const char* mqtt_server = "broker.mqtt-dashboard.com";//mqttæœåŠ¡å™¨

WiFiClient espClient;
PubSubClient client(espClient);
long lastMsg = 0;
char msg[50];
int value = 0;

void setup_wifi() {

  delay(10);
  // We start by connecting to a WiFi network
  Serial.println();
  Serial.print("Connecting to ");
  Serial.println(ssid);

  WiFi.begin(ssid, password);

  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }

  randomSeed(micros());

  Serial.println("");
  Serial.println("WiFi connected");
  Serial.println("IP address: ");
  Serial.println(WiFi.localIP());
}

/**
 * æ¶ˆæ¯å›è°ƒ
 */
void callback(char* topic, byte* payload, unsigned int length) {
  Serial.print("Message arrived [");
  Serial.print(topic);
  Serial.print("] ");
  for (int i = 0; i < length; i++) {
    Serial.print((char)payload[i]);
  }
  Serial.println();

  // Switch on the LED if an 1 was received as first character
  if ((char)payload[0] == '1') {
    digitalWrite(BUILTIN_LED, LOW);   // Turn the LED on (Note that LOW is the voltage level
    // but actually the LED is on; this is because
    // it is active low on the ESP-01)
  } else {
    digitalWrite(BUILTIN_LED, HIGH);  // Turn the LED off by making the voltage HIGH
  }

}

/**
 * æ–­å¼€é‡è¿
 */
void reconnect() {
  // Loop until we're reconnected
  while (!client.connected()) {
    Serial.print("Attempting MQTT connection...");
    // Create a random client ID
    String clientId = "ESP8266Client-";
    clientId += String(random(0xffff), HEX);
    // Attempt to connect
    if (client.connect(clientId.c_str())) {
      Serial.println("connected");
      // Once connected, publish an announcement...
      client.publish("outTopic", "hello world");
      // ... and resubscribe
      client.subscribe("inTopic");
    } else {
      Serial.print("failed, rc=");
      Serial.print(client.state());
      Serial.println(" try again in 5 seconds");
      // Wait 5 seconds before retrying
      delay(5000);
    }
  }
}

void setup() {
  pinMode(BUILTIN_LED, OUTPUT);     // Initialize the BUILTIN_LED pin as an output
  Serial.begin(115200);
  setup_wifi();
  //é…ç½®mqttæœåŠ¡å™¨åœ°å€å’Œç«¯å£
  client.setServer(mqtt_server, 1883);
  //è®¾ç½®è®¢é˜…æ¶ˆæ¯å›è°ƒ
  client.setCallback(callback);
}

void loop() {
  //é‡è¿æœºåˆ¶
  if (!client.connected()) {
    reconnect();
  }
  //ä¸æ–­ç›‘å¬ä¿¡æ¯
  client.loop();

  long now = millis();
  if (now - lastMsg > 2000) {
    //æ¯2så‘å¸ƒä¸€æ¬¡ä¿¡æ¯
    lastMsg = now;
    ++value;
    snprintf (msg, 50, "hello world #%ld", value);
    Serial.print("Publish message: ");
    Serial.println(msg);
    client.publish("outTopic", msg);
  }
}

```

### snprintf()å‡½æ•°
[C åº“å‡½æ•° â€“ snprintf() | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/cprogramming/c-function-snprintf.html)

![](201903040009images.aasts/image-20230410165423503.png)

# å…¶ä»–
## ESPåˆé›†æ€»ç»“
[ESP8266çš„ä¼ æ„Ÿå™¨ä½¿ç”¨åˆé›† - cyqsd's blog](https://www.cyqsd.cn/8416.html)
[ESP8266å¼•è„šä½¿ç”¨æ³¨æ„äº‹é¡¹å’Œæ¨è - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/433461900)


## ä¸²å£
ESP-01S

CP2102 
[CP2102æ¨¡å—USBè½¬TTLå‡çº§æ¿UBSè½¬ä¸²å£STCå•ç‰‡æœºä¸‹è½½åˆ·æœºå…­åˆä¸€UART-tmall.comå¤©çŒ«](https://detail.tmall.com/item.htm?app=chrome&bxsign=scdmDE6qwBg5kQXtSzex0UyQXHGXH3vEZmSavwFjCMR82sbc6dobwcGXPRcKbpCaAIl03BFKB3AgknazvZ6nA1JZoAr_X00k3Ns8k7rzihT-OCAheJlW9LIUBhSS4PkRnsM&cpp=1&id=14475468074&price=13.27-250.48&shareUniqueId=20790197113&share_crt_v=1&shareurl=true&short_name=h.UrqPI4H&sourceType=item,item&sp_abtk=gray_1_code_simpleAndroid2&sp_tk=VDJEVmRrUVF3VXo=&spm=a2159r.13376460.0.0&suid=ec17bf53-cd41-4812-be8e-c71664983ae3&tbSocialPopKey=shareItem&tk=T2DVdkQQwUz&un=56d835173df514b90f8768acc41474bb&un_site=0&ut_sk=1.YaV48WG3xLkDACjC6cdD9B0Y_21646297_1680603151887.Copy.1)
[(6æ¡æ¶ˆæ¯) ESP8266 01Sä¹‹å›ºä»¶çƒ§å½•ä¸è°ƒè¯•_æ²¸è…¾çŸ³ç°çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/m0_37738838/article/details/100536161)
[(6æ¡æ¶ˆæ¯) ç”µè„‘é€šè¿‡CH340-cp2102ä¸ESP01Sä¸²å£è°ƒè¯•æ­¥éª¤åŠé”™è¯¯è§£å†³åŠæ³•_cp2102 win11_é¦™æ¨Ÿæ ‘å¶ï¿½çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/ShawnKai/article/details/124781780)

CH340 
CH340C ESP01Sç›´æ’

ST-LINK 
è¿æ¥å™¨æ’å¤´ 
é¢åŒ…æ¿


## èŠ±ç”Ÿå£³çš„å†…ç½‘ç©¿é€



---


## Cè¯­è¨€ ä¸€äº›åŸºç¡€çŸ¥è¯†
### å ä½ç¬¦
![](201903040009images.aasts/image-20230410205019678.png)


### C è¯­è¨€ å°†ä¸åŒç±»å‹çš„æ•°æ®åˆå¹¶æˆå­—ç¬¦ä¸²

åœ¨ C è¯­è¨€ä¸­ï¼Œå°† æ•´æ•° æˆ–è€…å…¶å®ƒç±»å‹çš„å…ƒç±»æ•°æ®ä¸²åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ sprintf å‡½æ•°ã€‚

C æ ‡å‡†åº“ - <stdio.h>

å‚è€ƒ
```
char *Buff ;
int i = 9;
sprintf(Buff, â€œ%s%dâ€, â€œabcâ€,i);
//è¾“å‡º buff ä¸º abc9
```


æˆ‘çš„

```
//è¶…å£°æ³¢å’Œæ°´ä½ä»¥â€œ10ï¼Œ10.00â€å½¢å¼ä¸€èµ·å‘å¸ƒ,è‹±æ–‡é€—å·åˆ†å‰²å½¢æˆå®Œæ•´å­—ç¬¦ä¸²å‘å¸ƒ
    Serial.println("--------Start - Ultrasound&&Water - publish - ----------");
    char text[20]; //é•¿åº¦20çš„å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥char *Buff ;
    sprintf(text, "%d%s%lf", utlDistance, "," , waterHigh); 
    client.publish(topic,text);
    Serial.printf("Have published %s to the topic of cc36e70148924ef2bb2e1d477c24675f", text); 
    Serial.println("--------End - Ultrasound&&Water - publish----------");
```



```


```



## ä¸€äº›Arduinoç¯å¢ƒçš„å¼€å‘æ¿

[Arduinoå¼€å‘æ¿ â€“ å¤ªæåˆ›å®¢ (taichi-maker.com)](http://www.taichi-maker.com/homepage/reference-index/arduino-hardware-refrence/)

### Arduino Uno R3
[Arduino Uno R3 ç¡¬ä»¶å‚è€ƒ â€“ å¤ªæåˆ›å®¢ (taichi-maker.com)](http://www.taichi-maker.com/homepage/reference-index/arduino-hardware-refrence/arduino-uno/)

[(1æ¡æ¶ˆæ¯) ã€Arduinoå­¦ä¹ ã€‘01.å¼€å‘æ¿é€‰æ‹©å’Œç¯å¢ƒçš„æ­å»º_arduinoç¼–ç¨‹å™¨å¦‚ä½•é€‰æ‹©_ç‹å°çª0712çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/wsq_666/article/details/110625026)


[(1æ¡æ¶ˆæ¯) Arduinoè¿æ¥ESP8266å®ç°è”ç½‘åŠŸèƒ½_arduino esp8266_Schdustçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/m0_52991090/article/details/122157194)





